(()=>{"use strict";var t=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},e=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const n=function(){function n(n,r,o,i,s){var a=this;this.buttons=n,this.popup=r,this.deck=o,this.dealer=i,this.players=s,this.buttons.deal.attachHandler((function(){a.deal()})),this.buttons.reset.attachHandler((function(){a.reset()})),this.buttons.hit.attachHandler((function(){a.hit()})),this.buttons.stand.attachHandler((function(){a.stand()})),t(a,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return[4,this.deck.intro()];case 1:case 2:return t.sent(),[4,this.deck.shuffle()];case 3:return t.sent(),this.buttons.deal.enable(),[2]}}))}))}return n.prototype.deal=function(){return t(this,void 0,void 0,(function(){var t,n,r;return e(this,(function(e){switch(e.label){case 0:this.popup.hide(),this.deck.foreground="",this.buttons.disableAll(),t=0,n=this.players.hands,e.label=1;case 1:return t<n.length?(r=n[t],[4,this.dealCard(r)]):[3,5];case 2:return e.sent(),[4,this.dealCard(r)];case 3:e.sent(),e.label=4;case 4:return t++,[3,1];case 5:return[4,this.dealCard(this.dealer)];case 6:return e.sent(),[4,this.dealCard(this.dealer,!1)];case 7:return e.sent(),this.players.haveBlackjack()||this.dealer.hasBlackjack()?[4,this.dealer.topCard.show()]:[3,9];case 8:return e.sent(),this.popup.show("Blackjack!"),[3,10];case 9:this.players.current.setActive(),this.buttons.hit.enable(),this.buttons.stand.enable(),e.label=10;case 10:return this.buttons.reset.enable(),[2]}}))}))},n.prototype.reset=function(){return t(this,void 0,void 0,(function(){var t=this;return e(this,(function(e){switch(e.label){case 0:return this.popup.hide(),this.players.setInactive(),this.buttons.disableAll(),this.deck.foreground="1",this.players.hands.flatMap((function(t){return t.cards})).concat(this.dealer.cards).forEach((function(e,n){var r=e.getRect(),o=r.x,i=r.y,s=t.deck.getRect(),a=s.x,u=s.y;e.foreground=t.deck.count+n,t.deck.push(e.hide().setTransform(o-a,i-u).toggleClass("dealt"))})),this.dealer.empty(),this.players.empty(),[4,this.deck.shuffle()];case 1:return e.sent(),[4,this.deck.shuffle()];case 2:return e.sent(),this.players.reset(),this.buttons.deal.enable(),[2]}}))}))},n.prototype.hit=function(){return t(this,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return this.buttons.disableAll(),[4,this.dealCard(this.players.current)];case 1:return t.sent(),this.players.current.hasBust()&&this.players.setNext(),this.players.current?(this.players.current.setActive(),this.buttons.enableAllExceptDeal()):this.stand(),[2]}}))}))},n.prototype.stand=function(){return t(this,void 0,void 0,(function(){var t,n;return e(this,(function(e){switch(e.label){case 0:return this.buttons.disableAll(),this.players.setNext(),this.players.current?(this.players.current.setActive(),this.buttons.enableAllExceptDeal(),[3,6]):[3,1];case 1:return[4,this.dealer.topCard.show()];case 2:e.sent(),e.label=3;case 3:return this.dealer.canDrawCard()?[4,this.dealCard(this.dealer)]:[3,5];case 4:return e.sent(),[3,3];case 5:t=this.dealer.getScore(),n=this.players.getTopScore(),this.players.haveBust()?this.popup.show("Defeat!"):this.dealer.hasBust()||t<n?this.popup.show("Victory!"):t===n?this.popup.show("Push!"):this.popup.show("Defeat!"),this.buttons.reset.enable(),e.label=6;case 6:return[2]}}))}))},n.prototype.dealCard=function(n,r){return void 0===r&&(r=!0),t(this,void 0,void 0,(function(){var t,o,i,s,a,u;return e(this,(function(e){switch(e.label){case 0:return t=this.deck.getOffsetTop(),o=t.x,i=t.y,s=n.getRect(),a=s.x,u=s.y,[4,n.push(this.deck.pop().setTransform(o-a,i-u)).dragCard(r)];case 1:return e.sent(),[2]}}))}))},n}(),r=function(){function t(t){this.elem=t}return t.prototype.attachHandler=function(t){this.elem.onclick=t},t.prototype.disable=function(){this.elem.setAttribute("disabled","")},t.prototype.enable=function(){this.elem.removeAttribute("disabled")},t}(),o=function(){function t(t,e,n,r){this.deal=t,this.reset=e,this.hit=n,this.stand=r}return t.prototype.disableAll=function(){this.deal.disable(),this.reset.disable(),this.hit.disable(),this.stand.disable()},t.prototype.enableAllExceptDeal=function(){this.reset.enable(),this.hit.enable(),this.stand.enable()},t}();var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(t){var e=t.delay,n=void 0===e?0:e,r=t.duration,o=void 0===r?0:r,s=n+Date.now();return i(i({},t),{start:s,end:s+o,hasStarted:!1,hasEnded:!1})},a=function(t){return t<.5?4*Math.pow(t,3):(t-1)*(2*t-2)*(2*t-2)+1};const u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Promise((function(e){var n=t.map(s),r=function(){var t=Date.now(),o=n.filter((function(e){var n=e.hasEnded,r=e.start;return!n&&r<=t}));o.length?(o.forEach((function(e){var n=e.start,r=e.end,o=e.onStart,i=e.onProgress,s=e.onEnd;e.hasStarted||(e.hasStarted=!0,null==o||o());var u=(t-n)/(r-n);null==i||i((function(t,e){return t+(e-t)*a(u<1?u:1)})),t>=r&&(e.hasEnded=!0,null==s||s())})),requestAnimationFrame(r)):e()};requestAnimationFrame(r)}))};var c=(new Map).set("ace",(function(t,e){return t<11&&e<2?11:1})).set("two",(function(){return 2})).set("three",(function(){return 3})).set("four",(function(){return 4})).set("five",(function(){return 5})).set("six",(function(){return 6})).set("seven",(function(){return 7})).set("eight",(function(){return 8})).set("nine",(function(){return 9})).set("ten",(function(){return 10})).set("jack",(function(){return 10})).set("queen",(function(){return 10})).set("king",(function(){return 10}));const l=function(){function t(t){this.elem=t,this.cards=[]}return t.prototype.push=function(t){return this.cards.push(t),this.elem.append(t.elem),this},t.prototype.pop=function(){return this.cards.pop()},t.prototype.getRect=function(){return this.elem.getBoundingClientRect()},Object.defineProperty(t.prototype,"count",{get:function(){return this.cards.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topCard",{get:function(){return this.cards[this.count-1]},enumerable:!1,configurable:!0}),t}();var f,h=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.dragCard=function(t){return e=this,n=void 0,o=function(){var e,n,r,o,i=this;return function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(s){switch(s.label){case 0:return e=this.topCard.getTransform(),n=e.x,r=e.y,o=10*(1-this.count),[4,u({duration:400,onStart:function(){t&&i.topCard.show()},onProgress:function(t){i.topCard.setTransform(t(n,o),t(r,o))},onEnd:function(){i.topCard.toggleClass("dealt").foreground=i.count}})];case 1:return s.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(t,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}u((o=o.apply(e,n||[])).next())}));var e,n,r,o},e.prototype.setActive=function(){this.classList.add("active")},e.prototype.setInactive=function(){this.classList.remove("active")},e.prototype.empty=function(){return this.cards=[],this},e.prototype.getScore=function(){return this.cards.reduce((function(t,e,n){return t+c.get(e.rank)(t,n)}),0)},e.prototype.hasBlackjack=function(){return 21===this.getScore()&&2===this.count},e.prototype.hasBust=function(){return this.getScore()>21},Object.defineProperty(e.prototype,"classList",{get:function(){return this.elem.classList},enumerable:!1,configurable:!0}),e}(l);var d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.canDrawCard=function(){return this.getScore()<17},e}(p);var b=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=document.createElement("div");return(t=r.classList).add.apply(t,e),r};const v=function(){function t(t,e,n){void 0===n&&(n=0),this.elem=b("card"),this.rank=t;var r=b("inner");r.append(b("back")),r.append(b("face",t+"-of-"+e)),this.elem.append(r);var o=-n/4;this.setTransform(o,o).foreground=n}return t.prototype.show=function(){return t=this,e=void 0,r=function(){var t=this;return function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(e){switch(e.label){case 0:return[4,u({duration:400,onProgress:function(e){t.rotationY=e(0,180)}})];case 1:return e.sent(),[2,this]}}))},new((n=void 0)||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.hide=function(){var t=this;return u({duration:200,onProgress:function(e){t.rotationY=e(180,0)}}),this},t.prototype.setTransform=function(t,e){return this.styles.transform="translate("+t+"px, "+e+"px)",this},t.prototype.getTransform=function(){var t=getComputedStyle(this.elem).transform.replace(/[^\d\-.,]/g,"").split(","),e=t[4],n=t[5];return{x:Number(e)||0,y:Number(n)||0}},t.prototype.getRect=function(){return this.elem.getBoundingClientRect()},t.prototype.toggleClass=function(t){return this.elem.classList.toggle(t),this},Object.defineProperty(t.prototype,"foreground",{set:function(t){this.styles.zIndex=t.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{set:function(t){this.styles.opacity=t.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotationY",{set:function(t){this.elem.firstChild.style.transform="rotateY("+t+"deg)"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.elem.style},enumerable:!1,configurable:!0}),t}();var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const x=function(t){function e(e,n,r){var o=t.call(this,e)||this;return n.forEach((function(t){r.forEach((function(e){var n=-o.count/4,r=new v(e,t,o.count).setTransform(n,-200+n);r.opacity=0,o.push(r)}))})),o}return g(e,t),e.prototype.intro=function(){return w(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,u.apply(void 0,this.cards.map((function(t,e){var n=t.getTransform(),r=n.x,o=n.y,i=-e/4;return{delay:8*e,duration:600,onProgress:function(e){t.setTransform(e(r,i),e(o,i)).opacity=e(0,1)}}})))];case 1:return t.sent(),[2]}}))}))},e.prototype.shuffle=function(){return w(this,void 0,void 0,(function(){var t,e,n,r;return m(this,(function(o){switch(o.label){case 0:for(t=this.count-1;t;t-=1)e=Math.floor(Math.random()*(t+1)),r=[this.cards[e],this.cards[t]],this.cards[t]=r[0],this.cards[e]=r[1];return n=this.topCard.getRect().width,[4,u.apply(void 0,this.cards.reduce((function(t,e,r){var o=2*r,i=e.getTransform(),s=i.x,a=i.y,u=-r/4,c=(2*Math.round(Math.random())-1)*(Math.random()*n/2+n/2);return t.push({delay:o,duration:200,onProgress:function(t){e.setTransform(t(s,c),t(a,u))}},{duration:200,delay:o+200,onStart:function(){e.foreground=r},onProgress:function(t){e.setTransform(t(c,u),u)}}),t}),[]))];case 1:return o.sent(),[2]}}))}))},e.prototype.getOffsetTop=function(){var t=this.getRect(),e=t.x,n=t.y,r=this.topCard.getTransform();return{x:e+r.x,y:n+r.y}},Object.defineProperty(e.prototype,"foreground",{set:function(t){this.elem.style.zIndex=t},enumerable:!1,configurable:!0}),e}(l),k=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.currentIndex=0,this.hands=t}return t.prototype.setNext=function(){this.setInactive(),this.currentIndex+=1},t.prototype.reset=function(){this.currentIndex=0},t.prototype.setInactive=function(){this.hands.forEach((function(t){t.setInactive()}))},t.prototype.empty=function(){this.hands.forEach((function(t){t.empty()}))},t.prototype.haveBlackjack=function(){return this.hands.some((function(t){return t.hasBlackjack()}))},t.prototype.haveBust=function(){return!this.hands.some((function(t){return!t.hasBust()}))},t.prototype.getTopScore=function(){return this.hands.reduce((function(t,e){if(e.hasBust())return t;var n=e.getScore();return n>t?n:t}),0)},Object.defineProperty(t.prototype,"current",{get:function(){return this.hands[this.currentIndex]},enumerable:!1,configurable:!0}),t}(),P=function(){function t(t){this.elem=t}return t.prototype.show=function(t){var e=this;u({duration:100,onStart:function(){e.elem.textContent=t},onProgress:function(t){e.opacity=t(0,1)},onEnd:function(){e.opacity=""}})},t.prototype.hide=function(){var t=this;"0"!==this.styles.opacity&&u({duration:200,onProgress:function(e){t.opacity=e(1,0)},onEnd:function(){t.opacity=0}})},Object.defineProperty(t.prototype,"styles",{get:function(){return this.elem.style},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{set:function(t){this.styles.opacity=t.toString()},enumerable:!1,configurable:!0}),t}();var C=function(t){return document.getElementById(t)};new n(new o(new r(C("deal-btn")),new r(C("reset-btn")),new r(C("hit-btn")),new r(C("stand-btn"))),new P(C("popup")),new x(C("deck"),["clubs","spades","hearts","diamonds"],["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]),new y(C("dealer")),new k(new p(C("player-2")),new p(C("player-3"))))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9ibGFja2phY2sudHMiLCJ3ZWJwYWNrOi8vYmxhY2tqYWNrLy4vc3JjL3NjcmlwdHMvYnV0dG9ucy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vYmxhY2tqYWNrLy4vc3JjL3NjcmlwdHMvYnV0dG9ucy9idXR0b25zLnRzIiwid2VicGFjazovL2JsYWNramFjay8uL3NyYy9zY3JpcHRzL2FuaW1hdGUudHMiLCJ3ZWJwYWNrOi8vYmxhY2tqYWNrLy4vc3JjL3NjcmlwdHMvY29uc3RhbnRzL3JhbmtzLnRzIiwid2VicGFjazovL2JsYWNramFjay8uL3NyYy9zY3JpcHRzL2NhcmRIb2xkZXJzL2NhcmRTdGFjay50cyIsIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9jYXJkSG9sZGVycy9oYW5kLnRzIiwid2VicGFjazovL2JsYWNramFjay8uL3NyYy9zY3JpcHRzL2NhcmRIb2xkZXJzL2RlYWxlci50cyIsIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9jYXJkLnRzIiwid2VicGFjazovL2JsYWNramFjay8uL3NyYy9zY3JpcHRzL2NhcmRIb2xkZXJzL2RlY2sudHMiLCJ3ZWJwYWNrOi8vYmxhY2tqYWNrLy4vc3JjL3NjcmlwdHMvY2FyZEhvbGRlcnMvcGxheWVycy50cyIsIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9wb3B1cC50cyIsIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9pbmRleC50cyIsIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9jb25zdGFudHMvc3VpdHMudHMiXSwibmFtZXMiOlsiYnV0dG9ucyIsInBvcHVwIiwiZGVjayIsImRlYWxlciIsInBsYXllcnMiLCJ0aGlzIiwiZGVhbCIsImF0dGFjaEhhbmRsZXIiLCJyZXNldCIsImhpdCIsInN0YW5kIiwiaW50cm8iLCJzaHVmZmxlIiwiZW5hYmxlIiwiaGlkZSIsImZvcmVncm91bmQiLCJkaXNhYmxlQWxsIiwiaGFuZHMiLCJoYW5kIiwiZGVhbENhcmQiLCJoYXZlQmxhY2tqYWNrIiwiaGFzQmxhY2tqYWNrIiwidG9wQ2FyZCIsInNob3ciLCJjdXJyZW50Iiwic2V0QWN0aXZlIiwic2V0SW5hY3RpdmUiLCJmbGF0TWFwIiwiY2FyZHMiLCJjb25jYXQiLCJmb3JFYWNoIiwiY2FyZCIsImluZGV4IiwiZ2V0UmVjdCIsIngiLCJ5IiwiZHgiLCJkeSIsImNvdW50IiwicHVzaCIsInNldFRyYW5zZm9ybSIsInRvZ2dsZUNsYXNzIiwiZW1wdHkiLCJoYXNCdXN0Iiwic2V0TmV4dCIsImVuYWJsZUFsbEV4Y2VwdERlYWwiLCJjYW5EcmF3Q2FyZCIsImRlYWxlclNjb3JlIiwiZ2V0U2NvcmUiLCJwbGF5ZXJzVG9wU2NvcmUiLCJnZXRUb3BTY29yZSIsImhhdmVCdXN0Iiwic2hvdWxkU2hvd0ZhY2UiLCJnZXRPZmZzZXRUb3AiLCJwb3AiLCJkcmFnQ2FyZCIsImVsZW0iLCJjYWxsYmFjayIsIm9uY2xpY2siLCJkaXNhYmxlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiY3JlYXRlQW5pbWF0aW9uIiwiY29uZmlnIiwiZGVsYXkiLCJkdXJhdGlvbiIsInN0YXJ0IiwiRGF0ZSIsIm5vdyIsImVuZCIsImhhc1N0YXJ0ZWQiLCJoYXNFbmRlZCIsImVhc2VDdWJpY0luT3V0IiwidCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYW5pbWF0aW9ucyIsImFuaW1hdGlvbnNDb25maWdzIiwibWFwIiwib25GcmFtZSIsInBlbmRpbmdBbmltYXRpb25zIiwiZmlsdGVyIiwibGVuZ3RoIiwiYW5pbWF0aW9uIiwib25TdGFydCIsIm9uUHJvZ3Jlc3MiLCJvbkVuZCIsImZyb20iLCJ0byIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJhbmtWYWx1ZSIsIk1hcCIsInNldCIsInNjb3JlIiwiYXBwZW5kIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0VHJhbnNmb3JtIiwib2Zmc2V0IiwiY2FsYyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInJlZHVjZSIsImFjYyIsImdldCIsInJhbmsiLCJjcmVhdGVEaXYiLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWVzIiwic3VpdCIsImlubmVyIiwicm90YXRpb25ZIiwic3R5bGVzIiwidHJhbnNmb3JtIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInJlcGxhY2UiLCJzcGxpdCIsIk51bWJlciIsImNsYXNzTmFtZSIsInRvZ2dsZSIsInpJbmRleCIsInRvU3RyaW5nIiwib3BhY2l0eSIsImRlZyIsImZpcnN0Q2hpbGQiLCJzdHlsZSIsInN1aXRzIiwicmFua3MiLCJsYXN0SW5kZXgiLCJyYW5kb21JbmRleCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNhcmRXaWR0aCIsInJhbmRvbU9mZnNldCIsInJvdW5kIiwiY3VycmVudEluZGV4Iiwic29tZSIsInRleHQiLCJ0ZXh0Q29udGVudCIsImdldEVsZW0iLCJpZCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoibzJDQTZKQSxRQXJKQSxXQUNFLFdBQ1VBLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBTFYsV0FDVSxLQUFBSixVQUNBLEtBQUFDLFFBQ0EsS0FBQUMsT0FDQSxLQUFBQyxTQUNBLEtBQUFDLFVBRVJDLEtBQUtMLFFBQVFNLEtBQUtDLGVBQWMsV0FDOUIsRUFBS0QsVUFFUEQsS0FBS0wsUUFBUVEsTUFBTUQsZUFBYyxXQUMvQixFQUFLQyxXQUVQSCxLQUFLTCxRQUFRUyxJQUFJRixlQUFjLFdBQzdCLEVBQUtFLFNBRVBKLEtBQUtMLFFBQVFVLE1BQU1ILGVBQWMsV0FDL0IsRUFBS0csV0FHTiw4QixrREFDQyxTQUFNTCxLQUFLSCxLQUFLUyxTLGNBRWhCLE9BREEsU0FDQSxHQUFNTixLQUFLSCxLQUFLVSxXLGNBQWhCLFNBRUFQLEtBQUtMLFFBQVFNLEtBQUtPLFMsV0F5SHhCLE9BckhnQixZQUFBUCxLQUFkLFcsb0dBQ0VELEtB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QVEsY0FDbkIsSUFBSSxFQUFPQSxFQUFRLFlBQ25CLElBQUksRUFBT0EsRUFBUSxlQUVyQixJQUFJLEVBQU1BLEVBQVEsVUFDbEIsSUFBSSxFQUFLQSxFQUFRLFFDakJFLENBQUMsUUFBRCw4QlRTQSxDLDZGUVNuQixJQUFJLEVBQU9BLEVBQVEsV0FDbkIsSUFBSSxFQUFRLElBQUksRUFBS0EsRUFBUSxhQUFjLElBQUksRUFBS0EsRUFBUSxnQiIsImZpbGUiOiJqcy9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQnV0dG9ucyBmcm9tICdidXR0b25zL2J1dHRvbnMnO1xyXG5pbXBvcnQgRGVhbGVyIGZyb20gJ2NhcmRIb2xkZXJzL2RlYWxlcic7XHJcbmltcG9ydCBEZWNrIGZyb20gJ2NhcmRIb2xkZXJzL2RlY2snO1xyXG5pbXBvcnQgSGFuZCBmcm9tICdjYXJkSG9sZGVycy9oYW5kJztcclxuaW1wb3J0IFBsYXllcnMgZnJvbSAnY2FyZEhvbGRlcnMvcGxheWVycyc7XHJcbmltcG9ydCBQb3B1cFRleHQgZnJvbSAnY29uc3RhbnRzL3BvcHVwVGV4dCc7XHJcbmltcG9ydCBQb3B1cCBmcm9tICdwb3B1cCc7XHJcblxyXG5jbGFzcyBCbGFja2phY2sge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBidXR0b25zOiBCdXR0b25zLFxyXG4gICAgcHJpdmF0ZSBwb3B1cDogUG9wdXAsXHJcbiAgICBwcml2YXRlIGRlY2s6IERlY2ssXHJcbiAgICBwcml2YXRlIGRlYWxlcjogRGVhbGVyLFxyXG4gICAgcHJpdmF0ZSBwbGF5ZXJzOiBQbGF5ZXJzXHJcbiAgKSB7XHJcbiAgICB0aGlzLmJ1dHRvbnMuZGVhbC5hdHRhY2hIYW5kbGVyKCgpID0+IHtcclxuICAgICAgdGhpcy5kZWFsKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuYnV0dG9ucy5yZXNldC5hdHRhY2hIYW5kbGVyKCgpID0+IHtcclxuICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmJ1dHRvbnMuaGl0LmF0dGFjaEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLmhpdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmJ1dHRvbnMuc3RhbmQuYXR0YWNoSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMuc3RhbmQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGF3YWl0IHRoaXMuZGVjay5pbnRybygpO1xyXG4gICAgICBhd2FpdCB0aGlzLmRlY2suc2h1ZmZsZSgpO1xyXG4gICAgICBhd2FpdCB0aGlzLmRlY2suc2h1ZmZsZSgpO1xyXG5cclxuICAgICAgdGhpcy5idXR0b25zLmRlYWwuZW5hYmxlKCk7XHJcbiAgICB9KSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBkZWFsKCkge1xyXG4gICAgdGhpcy5wb3B1cC5oaWRlKCk7XHJcbiAgICB0aGlzLmRlY2suZm9yZWdyb3VuZCA9ICcnO1xyXG4gICAgdGhpcy5idXR0b25zLmRpc2FibGVBbGwoKTtcclxuXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcclxuICAgIGZvciAoY29uc3QgaGFuZCBvZiB0aGlzLnBsYXllcnMuaGFuZHMpIHtcclxuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tYXdhaXQtaW4tbG9vcCAqL1xyXG4gICAgICBhd2FpdCB0aGlzLmRlYWxDYXJkKGhhbmQpO1xyXG4gICAgICBhd2FpdCB0aGlzLmRlYWxDYXJkKGhhbmQpO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuZGVhbENhcmQodGhpcy5kZWFsZXIpO1xyXG4gICAgYXdhaXQgdGhpcy5kZWFsQ2FyZCh0aGlzLmRlYWxlciwgZmFsc2UpO1xyXG5cclxuICAgIGlmICh0aGlzLnBsYXllcnMuaGF2ZUJsYWNramFjaygpIHx8IHRoaXMuZGVhbGVyLmhhc0JsYWNramFjaygpKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuZGVhbGVyLnRvcENhcmQuc2hvdygpO1xyXG4gICAgICB0aGlzLnBvcHVwLnNob3coUG9wdXBUZXh0LkJsYWNramFjayk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnBsYXllcnMuY3VycmVudC5zZXRBY3RpdmUoKTtcclxuICAgICAgdGhpcy5idXR0b25zLmhpdC5lbmFibGUoKTtcclxuICAgICAgdGhpcy5idXR0b25zLnN0YW5kLmVuYWJsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYnV0dG9ucy5yZXNldC5lbmFibGUoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgcmVzZXQoKSB7XHJcbiAgICB0aGlzLnBvcHVwLmhpZGUoKTtcclxuICAgIHRoaXMucGxheWVycy5zZXRJbmFjdGl2ZSgpO1xyXG4gICAgdGhpcy5idXR0b25zLmRpc2FibGVBbGwoKTtcclxuXHJcbiAgICB0aGlzLmRlY2suZm9yZWdyb3VuZCA9ICcxJztcclxuICAgIHRoaXMucGxheWVycy5oYW5kc1xyXG4gICAgICAuZmxhdE1hcCgoaGFuZCkgPT4gaGFuZC5jYXJkcylcclxuICAgICAgLmNvbmNhdCh0aGlzLmRlYWxlci5jYXJkcylcclxuICAgICAgLmZvckVhY2goKGNhcmQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBjYXJkLmdldFJlY3QoKTtcclxuICAgICAgICBjb25zdCB7IHg6IGR4LCB5OiBkeSB9ID0gdGhpcy5kZWNrLmdldFJlY3QoKTtcclxuXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcbiAgICAgICAgY2FyZC5mb3JlZ3JvdW5kID0gdGhpcy5kZWNrLmNvdW50ICsgaW5kZXg7XHJcblxyXG4gICAgICAgIHRoaXMuZGVjay5wdXNoKFxyXG4gICAgICAgICAgY2FyZFxyXG4gICAgICAgICAgICAuaGlkZSgpXHJcbiAgICAgICAgICAgIC5zZXRUcmFuc2Zvcm0oeCAtIGR4LCB5IC0gZHkpXHJcbiAgICAgICAgICAgIC50b2dnbGVDbGFzcygnZGVhbHQnKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZGVhbGVyLmVtcHR5KCk7XHJcbiAgICB0aGlzLnBsYXllcnMuZW1wdHkoKTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLmRlY2suc2h1ZmZsZSgpO1xyXG4gICAgYXdhaXQgdGhpcy5kZWNrLnNodWZmbGUoKTtcclxuXHJcbiAgICB0aGlzLnBsYXllcnMucmVzZXQoKTtcclxuICAgIHRoaXMuYnV0dG9ucy5kZWFsLmVuYWJsZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBoaXQoKSB7XHJcbiAgICB0aGlzLmJ1dHRvbnMuZGlzYWJsZUFsbCgpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMuZGVhbENhcmQodGhpcy5wbGF5ZXJzLmN1cnJlbnQpO1xyXG5cclxuICAgIGlmICh0aGlzLnBsYXllcnMuY3VycmVudC5oYXNCdXN0KCkpIHtcclxuICAgICAgdGhpcy5wbGF5ZXJzLnNldE5leHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wbGF5ZXJzLmN1cnJlbnQpIHtcclxuICAgICAgdGhpcy5wbGF5ZXJzLmN1cnJlbnQuc2V0QWN0aXZlKCk7XHJcbiAgICAgIHRoaXMuYnV0dG9ucy5lbmFibGVBbGxFeGNlcHREZWFsKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YW5kKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHN0YW5kKCkge1xyXG4gICAgdGhpcy5idXR0b25zLmRpc2FibGVBbGwoKTtcclxuICAgIHRoaXMucGxheWVycy5zZXROZXh0KCk7XHJcblxyXG4gICAgaWYgKHRoaXMucGxheWVycy5jdXJyZW50KSB7XHJcbiAgICAgIHRoaXMucGxheWVycy5jdXJyZW50LnNldEFjdGl2ZSgpO1xyXG4gICAgICB0aGlzLmJ1dHRvbnMuZW5hYmxlQWxsRXhjZXB0RGVhbCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXdhaXQgdGhpcy5kZWFsZXIudG9wQ2FyZC5zaG93KCk7XHJcblxyXG4gICAgICB3aGlsZSAodGhpcy5kZWFsZXIuY2FuRHJhd0NhcmQoKSkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZGVhbENhcmQodGhpcy5kZWFsZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBkZWFsZXJTY29yZSA9IHRoaXMuZGVhbGVyLmdldFNjb3JlKCk7XHJcbiAgICAgIGNvbnN0IHBsYXllcnNUb3BTY29yZSA9IHRoaXMucGxheWVycy5nZXRUb3BTY29yZSgpO1xyXG5cclxuICAgICAgaWYgKHRoaXMucGxheWVycy5oYXZlQnVzdCgpKSB7XHJcbiAgICAgICAgdGhpcy5wb3B1cC5zaG93KFBvcHVwVGV4dC5EZWZlYXQpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGVhbGVyLmhhc0J1c3QoKSB8fCBkZWFsZXJTY29yZSA8IHBsYXllcnNUb3BTY29yZSkge1xyXG4gICAgICAgIHRoaXMucG9wdXAuc2hvdyhQb3B1cFRleHQuVmljdG9yeSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGVhbGVyU2NvcmUgPT09IHBsYXllcnNUb3BTY29yZSkge1xyXG4gICAgICAgIHRoaXMucG9wdXAuc2hvdyhQb3B1cFRleHQuUHVzaCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wb3B1cC5zaG93KFBvcHVwVGV4dC5EZWZlYXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmJ1dHRvbnMucmVzZXQuZW5hYmxlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGRlYWxDYXJkKGhhbmQ6IEhhbmQsIHNob3VsZFNob3dGYWNlID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmRlY2suZ2V0T2Zmc2V0VG9wKCk7XHJcbiAgICBjb25zdCB7IHg6IGR4LCB5OiBkeSB9ID0gaGFuZC5nZXRSZWN0KCk7XHJcblxyXG4gICAgYXdhaXQgaGFuZFxyXG4gICAgICAucHVzaCh0aGlzLmRlY2sucG9wKCkuc2V0VHJhbnNmb3JtKHggLSBkeCwgeSAtIGR5KSlcclxuICAgICAgLmRyYWdDYXJkKHNob3VsZFNob3dGYWNlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJsYWNramFjaztcclxuIiwiY2xhc3MgQnV0dG9uIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtOiBIVE1MQnV0dG9uRWxlbWVudCkge31cblxuICBhdHRhY2hIYW5kbGVyKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5lbGVtLm9uY2xpY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5lbGVtLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XG4gIH1cblxuICBlbmFibGUoKSB7XG4gICAgdGhpcy5lbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b247XG4iLCJpbXBvcnQgQnV0dG9uIGZyb20gJy4vYnV0dG9uJztcclxuXHJcbmNsYXNzIEJ1dHRvbnMge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHVibGljIGRlYWw6IEJ1dHRvbixcclxuICAgIHB1YmxpYyByZXNldDogQnV0dG9uLFxyXG4gICAgcHVibGljIGhpdDogQnV0dG9uLFxyXG4gICAgcHVibGljIHN0YW5kOiBCdXR0b25cclxuICApIHt9XHJcblxyXG4gIGRpc2FibGVBbGwoKSB7XHJcbiAgICB0aGlzLmRlYWwuZGlzYWJsZSgpO1xyXG4gICAgdGhpcy5yZXNldC5kaXNhYmxlKCk7XHJcbiAgICB0aGlzLmhpdC5kaXNhYmxlKCk7XHJcbiAgICB0aGlzLnN0YW5kLmRpc2FibGUoKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZUFsbEV4Y2VwdERlYWwoKSB7XHJcbiAgICB0aGlzLnJlc2V0LmVuYWJsZSgpO1xyXG4gICAgdGhpcy5oaXQuZW5hYmxlKCk7XHJcbiAgICB0aGlzLnN0YW5kLmVuYWJsZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnV0dG9ucztcclxuIiwiZXhwb3J0IGludGVyZmFjZSBBbmltYXRpb25Db25maWcge1xyXG4gIGRlbGF5PzogbnVtYmVyO1xyXG4gIGR1cmF0aW9uPzogbnVtYmVyO1xyXG4gIG9uU3RhcnQ/OiAoKSA9PiB2b2lkO1xyXG4gIG9uUHJvZ3Jlc3M/OiAoY2FsY3VsYXRlU3RlcDogKGZyb206IG51bWJlciwgdG86IG51bWJlcikgPT4gbnVtYmVyKSA9PiB2b2lkO1xyXG4gIG9uRW5kPzogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgY3JlYXRlQW5pbWF0aW9uID0gKGNvbmZpZzogQW5pbWF0aW9uQ29uZmlnKSA9PiB7XHJcbiAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMCB9ID0gY29uZmlnO1xyXG4gIGNvbnN0IHN0YXJ0ID0gZGVsYXkgKyBEYXRlLm5vdygpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgLi4uY29uZmlnLFxyXG4gICAgc3RhcnQsXHJcbiAgICBlbmQ6IHN0YXJ0ICsgZHVyYXRpb24sXHJcbiAgICBoYXNTdGFydGVkOiBmYWxzZSxcclxuICAgIGhhc0VuZGVkOiBmYWxzZSxcclxuICB9O1xyXG59O1xyXG5cclxuY29uc3QgZWFzZUN1YmljSW5PdXQgPSAodDogbnVtYmVyKSA9PlxyXG4gIHQgPCAwLjUgPyA0ICogdCAqKiAzIDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxO1xyXG5cclxuY29uc3QgYW5pbWF0ZSA9ICguLi5hbmltYXRpb25zQ29uZmlnczogQW5pbWF0aW9uQ29uZmlnW10pID0+XHJcbiAgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBhbmltYXRpb25zQ29uZmlncy5tYXAoY3JlYXRlQW5pbWF0aW9uKTtcclxuXHJcbiAgICBjb25zdCBvbkZyYW1lID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICBjb25zdCBwZW5kaW5nQW5pbWF0aW9ucyA9IGFuaW1hdGlvbnMuZmlsdGVyKFxyXG4gICAgICAgICh7IGhhc0VuZGVkLCBzdGFydCB9KSA9PiAhaGFzRW5kZWQgJiYgc3RhcnQgPD0gbm93XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAocGVuZGluZ0FuaW1hdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgcGVuZGluZ0FuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB7IHN0YXJ0LCBlbmQsIG9uU3RhcnQsIG9uUHJvZ3Jlc3MsIG9uRW5kLCBoYXNTdGFydGVkIH0gPVxyXG4gICAgICAgICAgICBhbmltYXRpb247XHJcblxyXG4gICAgICAgICAgaWYgKCFoYXNTdGFydGVkKSB7XHJcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5oYXNTdGFydGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIG9uU3RhcnQ/LigpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHQgPSAobm93IC0gc3RhcnQpIC8gKGVuZCAtIHN0YXJ0KTtcclxuXHJcbiAgICAgICAgICBvblByb2dyZXNzPy4oXHJcbiAgICAgICAgICAgIChmcm9tLCB0bykgPT4gZnJvbSArICh0byAtIGZyb20pICogZWFzZUN1YmljSW5PdXQodCA8IDEgPyB0IDogMSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKG5vdyA+PSBlbmQpIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLmhhc0VuZGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIG9uRW5kPy4oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9uRnJhbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUob25GcmFtZSk7XHJcbiAgfSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhbmltYXRlO1xyXG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG5jb25zdCBlbnVtIFJhbmsge1xuICBBY2UgPSAnYWNlJyxcbiAgVHdvID0gJ3R3bycsXG4gIFRocmVlID0gJ3RocmVlJyxcbiAgRm91ciA9ICdmb3VyJyxcbiAgRml2ZSA9ICdmaXZlJyxcbiAgU2l4ID0gJ3NpeCcsXG4gIFNldmVuID0gJ3NldmVuJyxcbiAgRWlnaHQgPSAnZWlnaHQnLFxuICBOaW5lID0gJ25pbmUnLFxuICBUZW4gPSAndGVuJyxcbiAgSmFjayA9ICdqYWNrJyxcbiAgUXVlZW4gPSAncXVlZW4nLFxuICBLaW5nID0gJ2tpbmcnLFxufVxuXG5leHBvcnQgY29uc3QgcmFua3MgPSBbXG4gIFJhbmsuQWNlLFxuICBSYW5rLlR3byxcbiAgUmFuay5UaHJlZSxcbiAgUmFuay5Gb3VyLFxuICBSYW5rLkZpdmUsXG4gIFJhbmsuU2l4LFxuICBSYW5rLlNldmVuLFxuICBSYW5rLkVpZ2h0LFxuICBSYW5rLk5pbmUsXG4gIFJhbmsuVGVuLFxuICBSYW5rLkphY2ssXG4gIFJhbmsuUXVlZW4sXG4gIFJhbmsuS2luZyxcbl07XG5cbmV4cG9ydCBjb25zdCByYW5rVmFsdWUgPSBuZXcgTWFwPFxuICBSYW5rLFxuICAoc2NvcmU/OiBudW1iZXIsIGluZGV4PzogbnVtYmVyKSA9PiBudW1iZXJcbj4oKVxuICAuc2V0KFJhbmsuQWNlLCAoc2NvcmUsIGluZGV4KSA9PiAoc2NvcmUgPCAxMSAmJiBpbmRleCA8IDIgPyAxMSA6IDEpKVxuICAuc2V0KFJhbmsuVHdvLCAoKSA9PiAyKVxuICAuc2V0KFJhbmsuVGhyZWUsICgpID0+IDMpXG4gIC5zZXQoUmFuay5Gb3VyLCAoKSA9PiA0KVxuICAuc2V0KFJhbmsuRml2ZSwgKCkgPT4gNSlcbiAgLnNldChSYW5rLlNpeCwgKCkgPT4gNilcbiAgLnNldChSYW5rLlNldmVuLCAoKSA9PiA3KVxuICAuc2V0KFJhbmsuRWlnaHQsICgpID0+IDgpXG4gIC5zZXQoUmFuay5OaW5lLCAoKSA9PiA5KVxuICAuc2V0KFJhbmsuVGVuLCAoKSA9PiAxMClcbiAgLnNldChSYW5rLkphY2ssICgpID0+IDEwKVxuICAuc2V0KFJhbmsuUXVlZW4sICgpID0+IDEwKVxuICAuc2V0KFJhbmsuS2luZywgKCkgPT4gMTApO1xuXG5leHBvcnQgZGVmYXVsdCBSYW5rO1xuIiwiaW1wb3J0IENhcmQgZnJvbSAnY2FyZCc7XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBDYXJkU3RhY2sge1xyXG4gIGNhcmRzOiBDYXJkW10gPSBbXTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGVsZW06IEhUTUxEaXZFbGVtZW50KSB7fVxyXG5cclxuICBwdXNoKGNhcmQ6IENhcmQpIHtcclxuICAgIHRoaXMuY2FyZHMucHVzaChjYXJkKTtcclxuICAgIHRoaXMuZWxlbS5hcHBlbmQoY2FyZC5lbGVtKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHBvcCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNhcmRzLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UmVjdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgfVxyXG5cclxuICBnZXQgY291bnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYXJkcy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBnZXQgdG9wQ2FyZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNhcmRzW3RoaXMuY291bnQgLSAxXTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmRTdGFjaztcclxuIiwiaW1wb3J0IGFuaW1hdGUgZnJvbSAnYW5pbWF0ZSc7XHJcbmltcG9ydCB7IHJhbmtWYWx1ZSB9IGZyb20gJ2NvbnN0YW50cy9yYW5rcyc7XHJcblxyXG5pbXBvcnQgQ2FyZFN0YWNrIGZyb20gJy4vY2FyZFN0YWNrJztcclxuXHJcbmNvbnN0IFRPUF9TQ09SRSA9IDIxO1xyXG5cclxuY2xhc3MgSGFuZCBleHRlbmRzIENhcmRTdGFjayB7XHJcbiAgYXN5bmMgZHJhZ0NhcmQoc2hvdWxkU2hvd0ZhY2U/OiBib29sZWFuKSB7XHJcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMudG9wQ2FyZC5nZXRUcmFuc2Zvcm0oKTtcclxuICAgIGNvbnN0IG9mZnNldCA9ICgxIC0gdGhpcy5jb3VudCkgKiAxMDtcclxuXHJcbiAgICBhd2FpdCBhbmltYXRlKHtcclxuICAgICAgZHVyYXRpb246IDQwMCxcclxuICAgICAgb25TdGFydDogKCkgPT4ge1xyXG4gICAgICAgIGlmIChzaG91bGRTaG93RmFjZSkge1xyXG4gICAgICAgICAgdGhpcy50b3BDYXJkLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uUHJvZ3Jlc3M6IChjYWxjKSA9PiB7XHJcbiAgICAgICAgdGhpcy50b3BDYXJkLnNldFRyYW5zZm9ybShjYWxjKHgsIG9mZnNldCksIGNhbGMoeSwgb2Zmc2V0KSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uRW5kOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50b3BDYXJkLnRvZ2dsZUNsYXNzKCdkZWFsdCcpLmZvcmVncm91bmQgPSB0aGlzLmNvdW50O1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRBY3RpdmUoKSB7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5hY3RpdmUoKSB7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgZW1wdHkoKSB7XHJcbiAgICB0aGlzLmNhcmRzID0gW107XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBnZXRTY29yZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmNhcmRzLnJlZHVjZShcclxuICAgICAgKGFjYywgY2FyZCwgaW5kZXgpID0+IGFjYyArIHJhbmtWYWx1ZS5nZXQoY2FyZC5yYW5rKShhY2MsIGluZGV4KSxcclxuICAgICAgMFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGhhc0JsYWNramFjaygpIHtcclxuICAgIHJldHVybiB0aGlzLmdldFNjb3JlKCkgPT09IFRPUF9TQ09SRSAmJiB0aGlzLmNvdW50ID09PSAyO1xyXG4gIH1cclxuXHJcbiAgaGFzQnVzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldFNjb3JlKCkgPiBUT1BfU0NPUkU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldCBjbGFzc0xpc3QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmNsYXNzTGlzdDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhhbmQ7XHJcbiIsImltcG9ydCBIYW5kIGZyb20gJy4vaGFuZCc7XHJcblxyXG5jbGFzcyBEZWFsZXIgZXh0ZW5kcyBIYW5kIHtcclxuICBjYW5EcmF3Q2FyZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldFNjb3JlKCkgPCAxNztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERlYWxlcjtcclxuIiwiaW1wb3J0IFJhbmsgZnJvbSAnY29uc3RhbnRzL3JhbmtzJztcclxuaW1wb3J0IFN1aXQgZnJvbSAnY29uc3RhbnRzL3N1aXRzJztcclxuXHJcbmltcG9ydCBhbmltYXRlIGZyb20gJy4vYW5pbWF0ZSc7XHJcblxyXG5jb25zdCBjcmVhdGVEaXYgPSAoLi4uY2xhc3NOYW1lczogc3RyaW5nW10pID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgZGl2LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lcyk7XHJcblxyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5jbGFzcyBDYXJkIHtcclxuICBlbGVtID0gY3JlYXRlRGl2KCdjYXJkJyk7XHJcblxyXG4gIHJhbms6IFJhbms7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJhbms6IFJhbmssIHN1aXQ6IFN1aXQsIGluZGV4ID0gMCkge1xyXG4gICAgdGhpcy5yYW5rID0gcmFuaztcclxuXHJcbiAgICBjb25zdCBpbm5lciA9IGNyZWF0ZURpdignaW5uZXInKTtcclxuXHJcbiAgICBpbm5lci5hcHBlbmQoY3JlYXRlRGl2KCdiYWNrJykpO1xyXG4gICAgaW5uZXIuYXBwZW5kKGNyZWF0ZURpdignZmFjZScsIGAke3Jhbmt9LW9mLSR7c3VpdH1gKSk7XHJcblxyXG4gICAgdGhpcy5lbGVtLmFwcGVuZChpbm5lcik7XHJcblxyXG4gICAgY29uc3Qgb2Zmc2V0ID0gLWluZGV4IC8gNDtcclxuXHJcbiAgICB0aGlzLnNldFRyYW5zZm9ybShvZmZzZXQsIG9mZnNldCkuZm9yZWdyb3VuZCA9IGluZGV4O1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2hvdygpIHtcclxuICAgIGF3YWl0IGFuaW1hdGUoe1xyXG4gICAgICBkdXJhdGlvbjogNDAwLFxyXG4gICAgICBvblByb2dyZXNzOiAoY2FsYykgPT4ge1xyXG4gICAgICAgIHRoaXMucm90YXRpb25ZID0gY2FsYygwLCAxODApO1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBoaWRlKCkge1xyXG4gICAgYW5pbWF0ZSh7XHJcbiAgICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICAgIG9uUHJvZ3Jlc3M6IChjYWxjKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvblkgPSBjYWxjKDE4MCwgMCk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNldFRyYW5zZm9ybSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgdGhpcy5zdHlsZXMudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3h9cHgsICR7eX1weClgO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgZ2V0VHJhbnNmb3JtKCkge1xyXG4gICAgY29uc3QgWywgLCAsICwgeCwgeV0gPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbSlcclxuICAgICAgLnRyYW5zZm9ybS5yZXBsYWNlKC9bXlxcZFxcLS4sXS9nLCAnJylcclxuICAgICAgLnNwbGl0KCcsJyk7XHJcblxyXG4gICAgcmV0dXJuIHsgeDogTnVtYmVyKHgpIHx8IDAsIHk6IE51bWJlcih5KSB8fCAwIH07XHJcbiAgfVxyXG5cclxuICBnZXRSZWN0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUNsYXNzKGNsYXNzTmFtZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmVsZW0uY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2V0IGZvcmVncm91bmQoekluZGV4OiBudW1iZXIpIHtcclxuICAgIHRoaXMuc3R5bGVzLnpJbmRleCA9IHpJbmRleC50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgc2V0IG9wYWNpdHkob3BhY2l0eTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnN0eWxlcy5vcGFjaXR5ID0gb3BhY2l0eS50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXQgcm90YXRpb25ZKGRlZzogbnVtYmVyKSB7XHJcbiAgICAoXHJcbiAgICAgIHRoaXMuZWxlbS5maXJzdENoaWxkIGFzIEhUTUxFbGVtZW50XHJcbiAgICApLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGVZKCR7ZGVnfWRlZylgO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXQgc3R5bGVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5zdHlsZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImltcG9ydCBhbmltYXRlLCB7IEFuaW1hdGlvbkNvbmZpZyB9IGZyb20gJ2FuaW1hdGUnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICdjYXJkJztcclxuaW1wb3J0IFJhbmsgZnJvbSAnY29uc3RhbnRzL3JhbmtzJztcclxuaW1wb3J0IFN1aXQgZnJvbSAnY29uc3RhbnRzL3N1aXRzJztcclxuXHJcbmltcG9ydCBDYXJkU3RhY2sgZnJvbSAnLi9jYXJkU3RhY2snO1xyXG5cclxuY2xhc3MgRGVjayBleHRlbmRzIENhcmRTdGFjayB7XHJcbiAgY29uc3RydWN0b3IoZWxlbTogSFRNTERpdkVsZW1lbnQsIHN1aXRzOiBTdWl0W10sIHJhbmtzOiBSYW5rW10pIHtcclxuICAgIHN1cGVyKGVsZW0pO1xyXG5cclxuICAgIHN1aXRzLmZvckVhY2goKHN1aXQpID0+IHtcclxuICAgICAgcmFua3MuZm9yRWFjaCgocmFuaykgPT4ge1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IC10aGlzLmNvdW50IC8gNDtcclxuICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQocmFuaywgc3VpdCwgdGhpcy5jb3VudCkuc2V0VHJhbnNmb3JtKFxyXG4gICAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgICAgLTIwMCArIG9mZnNldFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNhcmQub3BhY2l0eSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMucHVzaChjYXJkKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGludHJvKCkge1xyXG4gICAgYXdhaXQgYW5pbWF0ZShcclxuICAgICAgLi4udGhpcy5jYXJkcy5tYXAoKGNhcmQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBjYXJkLmdldFRyYW5zZm9ybSgpO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IC1pbmRleCAvIDQ7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBkZWxheTogaW5kZXggKiA4LFxyXG4gICAgICAgICAgZHVyYXRpb246IDYwMCxcclxuICAgICAgICAgIG9uUHJvZ3Jlc3MoY2FsYykge1xyXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xyXG4gICAgICAgICAgICBjYXJkLnNldFRyYW5zZm9ybShjYWxjKHgsIG9mZnNldCksIGNhbGMoeSwgb2Zmc2V0KSkub3BhY2l0eSA9IGNhbGMoXHJcbiAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAxXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0gYXMgQW5pbWF0aW9uQ29uZmlnO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNodWZmbGUoKSB7XHJcbiAgICBmb3IgKGxldCBsYXN0SW5kZXggPSB0aGlzLmNvdW50IC0gMTsgbGFzdEluZGV4OyBsYXN0SW5kZXggLT0gMSkge1xyXG4gICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChsYXN0SW5kZXggKyAxKSk7XHJcblxyXG4gICAgICBbdGhpcy5jYXJkc1tsYXN0SW5kZXhdLCB0aGlzLmNhcmRzW3JhbmRvbUluZGV4XV0gPSBbXHJcbiAgICAgICAgdGhpcy5jYXJkc1tyYW5kb21JbmRleF0sXHJcbiAgICAgICAgdGhpcy5jYXJkc1tsYXN0SW5kZXhdLFxyXG4gICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGR1cmF0aW9uID0gMjAwO1xyXG4gICAgY29uc3QgeyB3aWR0aDogY2FyZFdpZHRoIH0gPSB0aGlzLnRvcENhcmQuZ2V0UmVjdCgpO1xyXG5cclxuICAgIGF3YWl0IGFuaW1hdGUoXHJcbiAgICAgIC4uLnRoaXMuY2FyZHMucmVkdWNlKChhY2MsIGNhcmQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGVsYXkgPSBpbmRleCAqIDI7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBjYXJkLmdldFRyYW5zZm9ybSgpO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IC1pbmRleCAvIDQ7XHJcbiAgICAgICAgY29uc3QgcmFuZG9tT2Zmc2V0ID1cclxuICAgICAgICAgIChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpICogMiAtIDEpICpcclxuICAgICAgICAgICgoTWF0aC5yYW5kb20oKSAqIGNhcmRXaWR0aCkgLyAyICsgY2FyZFdpZHRoIC8gMik7XHJcblxyXG4gICAgICAgIGFjYy5wdXNoKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBkZWxheSxcclxuICAgICAgICAgICAgZHVyYXRpb24sXHJcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3MoY2FsYykge1xyXG4gICAgICAgICAgICAgIGNhcmQuc2V0VHJhbnNmb3JtKGNhbGMoeCwgcmFuZG9tT2Zmc2V0KSwgY2FsYyh5LCBvZmZzZXQpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uLFxyXG4gICAgICAgICAgICBkZWxheTogZGVsYXkgKyBkdXJhdGlvbixcclxuICAgICAgICAgICAgb25TdGFydCgpIHtcclxuICAgICAgICAgICAgICBjYXJkLmZvcmVncm91bmQgPSBpbmRleDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25Qcm9ncmVzcyhjYWxjKSB7XHJcbiAgICAgICAgICAgICAgY2FyZC5zZXRUcmFuc2Zvcm0oY2FsYyhyYW5kb21PZmZzZXQsIG9mZnNldCksIG9mZnNldCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgfSwgW10gYXMgQW5pbWF0aW9uQ29uZmlnW10pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZ2V0T2Zmc2V0VG9wKCkge1xyXG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmdldFJlY3QoKTtcclxuICAgIGNvbnN0IHsgeDogZHgsIHk6IGR5IH0gPSB0aGlzLnRvcENhcmQuZ2V0VHJhbnNmb3JtKCk7XHJcblxyXG4gICAgcmV0dXJuIHsgeDogeCArIGR4LCB5OiB5ICsgZHkgfTtcclxuICB9XHJcblxyXG4gIHNldCBmb3JlZ3JvdW5kKHpJbmRleDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmVsZW0uc3R5bGUuekluZGV4ID0gekluZGV4O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGVjaztcclxuIiwiaW1wb3J0IEhhbmQgZnJvbSAnLi9oYW5kJztcclxuXHJcbmNsYXNzIFBsYXllcnMge1xyXG4gIHB1YmxpYyBoYW5kczogSGFuZFtdO1xyXG5cclxuICBwcml2YXRlIGN1cnJlbnRJbmRleCA9IDA7XHJcblxyXG4gIGNvbnN0cnVjdG9yKC4uLmhhbmRzOiBIYW5kW10pIHtcclxuICAgIHRoaXMuaGFuZHMgPSBoYW5kcztcclxuICB9XHJcblxyXG4gIHNldE5leHQoKSB7XHJcbiAgICB0aGlzLnNldEluYWN0aXZlKCk7XHJcbiAgICB0aGlzLmN1cnJlbnRJbmRleCArPSAxO1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDA7XHJcbiAgfVxyXG5cclxuICBzZXRJbmFjdGl2ZSgpIHtcclxuICAgIHRoaXMuaGFuZHMuZm9yRWFjaCgoaGFuZCkgPT4ge1xyXG4gICAgICBoYW5kLnNldEluYWN0aXZlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVtcHR5KCkge1xyXG4gICAgdGhpcy5oYW5kcy5mb3JFYWNoKChoYW5kKSA9PiB7XHJcbiAgICAgIGhhbmQuZW1wdHkoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGF2ZUJsYWNramFjaygpIHtcclxuICAgIHJldHVybiB0aGlzLmhhbmRzLnNvbWUoKGhhbmQpID0+IGhhbmQuaGFzQmxhY2tqYWNrKCkpO1xyXG4gIH1cclxuXHJcbiAgaGF2ZUJ1c3QoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuaGFuZHMuc29tZSgoaGFuZCkgPT4gIWhhbmQuaGFzQnVzdCgpKTtcclxuICB9XHJcblxyXG4gIGdldFRvcFNjb3JlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaGFuZHMucmVkdWNlKChhY2MsIGhhbmQpID0+IHtcclxuICAgICAgaWYgKGhhbmQuaGFzQnVzdCgpKSB7XHJcbiAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc2NvcmUgPSBoYW5kLmdldFNjb3JlKCk7XHJcblxyXG4gICAgICByZXR1cm4gc2NvcmUgPiBhY2MgPyBzY29yZSA6IGFjYztcclxuICAgIH0sIDApO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGN1cnJlbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oYW5kc1t0aGlzLmN1cnJlbnRJbmRleF07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXJzO1xyXG4iLCJpbXBvcnQgYW5pbWF0ZSBmcm9tICcuL2FuaW1hdGUnO1xyXG5cclxuY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWxlbTogSFRNTERpdkVsZW1lbnQpIHt9XHJcblxyXG4gIHNob3codGV4dDogc3RyaW5nKSB7XHJcbiAgICBhbmltYXRlKHtcclxuICAgICAgZHVyYXRpb246IDEwMCxcclxuICAgICAgb25TdGFydDogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZWxlbS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uUHJvZ3Jlc3M6IChjYWxjKSA9PiB7XHJcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gY2FsYygwLCAxKTtcclxuICAgICAgfSxcclxuICAgICAgb25FbmQ6ICgpID0+IHtcclxuICAgICAgICB0aGlzLm9wYWNpdHkgPSAnJztcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGlkZSgpIHtcclxuICAgIGlmICh0aGlzLnN0eWxlcy5vcGFjaXR5ICE9PSAnMCcpIHtcclxuICAgICAgYW5pbWF0ZSh7XHJcbiAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICBvblByb2dyZXNzOiAoY2FsYykgPT4ge1xyXG4gICAgICAgICAgdGhpcy5vcGFjaXR5ID0gY2FsYygxLCAwKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uRW5kOiAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXQgc3R5bGVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbS5zdHlsZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0IG9wYWNpdHkob3BhY2l0eTogbnVtYmVyIHwgc3RyaW5nKSB7XHJcbiAgICB0aGlzLnN0eWxlcy5vcGFjaXR5ID0gb3BhY2l0eS50b1N0cmluZygpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XHJcbiIsImltcG9ydCAnc3R5bGVzL2luZGV4LnNjc3MnO1xyXG5cclxuaW1wb3J0IEJsYWNramFjayBmcm9tICdibGFja2phY2snO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJ2J1dHRvbnMvYnV0dG9uJztcclxuaW1wb3J0IEJ1dHRvbnMgZnJvbSAnYnV0dG9ucy9idXR0b25zJztcclxuaW1wb3J0IERlYWxlciBmcm9tICdjYXJkSG9sZGVycy9kZWFsZXInO1xyXG5pbXBvcnQgRGVjayBmcm9tICdjYXJkSG9sZGVycy9kZWNrJztcclxuaW1wb3J0IEhhbmQgZnJvbSAnY2FyZEhvbGRlcnMvaGFuZCc7XHJcbmltcG9ydCBQbGF5ZXJzIGZyb20gJ2NhcmRIb2xkZXJzL3BsYXllcnMnO1xyXG5pbXBvcnQgeyByYW5rcyB9IGZyb20gJ2NvbnN0YW50cy9yYW5rcyc7XHJcbmltcG9ydCB7IHN1aXRzIH0gZnJvbSAnY29uc3RhbnRzL3N1aXRzJztcclxuaW1wb3J0IFBvcHVwIGZyb20gJ3BvcHVwJztcclxuXHJcbmNvbnN0IGdldEVsZW0gPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50PihpZDogc3RyaW5nKSA9PlxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBUO1xyXG5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ld1xyXG5uZXcgQmxhY2tqYWNrKFxyXG4gIG5ldyBCdXR0b25zKFxyXG4gICAgbmV3IEJ1dHRvbihnZXRFbGVtKCdkZWFsLWJ0bicpKSxcclxuICAgIG5ldyBCdXR0b24oZ2V0RWxlbSgncmVzZXQtYnRuJykpLFxyXG4gICAgbmV3IEJ1dHRvbihnZXRFbGVtKCdoaXQtYnRuJykpLFxyXG4gICAgbmV3IEJ1dHRvbihnZXRFbGVtKCdzdGFuZC1idG4nKSlcclxuICApLFxyXG4gIG5ldyBQb3B1cChnZXRFbGVtKCdwb3B1cCcpKSxcclxuICBuZXcgRGVjayhnZXRFbGVtKCdkZWNrJyksIHN1aXRzLCByYW5rcyksXHJcbiAgbmV3IERlYWxlcihnZXRFbGVtKCdkZWFsZXInKSksXHJcbiAgbmV3IFBsYXllcnMobmV3IEhhbmQoZ2V0RWxlbSgncGxheWVyLTInKSksIG5ldyBIYW5kKGdldEVsZW0oJ3BsYXllci0zJykpKVxyXG4pO1xyXG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG5jb25zdCBlbnVtIFN1aXQge1xuICBDbHVicyA9ICdjbHVicycsXG4gIFNwYWRlcyA9ICdzcGFkZXMnLFxuICBIZWFydHMgPSAnaGVhcnRzJyxcbiAgRGlhbW9uZHMgPSAnZGlhbW9uZHMnLFxufVxuXG5leHBvcnQgY29uc3Qgc3VpdHMgPSBbU3VpdC5DbHVicywgU3VpdC5TcGFkZXMsIFN1aXQuSGVhcnRzLCBTdWl0LkRpYW1vbmRzXTtcblxuZXhwb3J0IGRlZmF1bHQgU3VpdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=