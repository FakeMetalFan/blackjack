(()=>{"use strict";var t=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},e=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const n=function(){function n(n,r,o,i,s){var a=this;this.buttons=n,this.popup=r,this.deck=o,this.dealer=i,this.players=s,this.buttons.deal.attachHandler((function(){a.deal()})),this.buttons.reset.attachHandler((function(){a.reset()})),this.buttons.hit.attachHandler((function(){a.hit()})),this.buttons.stand.attachHandler((function(){a.stand()})),t(a,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return[4,this.deck.intro()];case 1:case 2:return t.sent(),[4,this.deck.shuffle()];case 3:return t.sent(),this.buttons.deal.enable(),[2]}}))}))}return n.prototype.deal=function(){return t(this,void 0,void 0,(function(){var t,n,r;return e(this,(function(e){switch(e.label){case 0:this.popup.hide(),this.deck.foreground="",this.buttons.disableAll(),t=0,n=this.players.hands,e.label=1;case 1:return t<n.length?(r=n[t],[4,this.dealCard(r)]):[3,5];case 2:return e.sent(),[4,this.dealCard(r)];case 3:e.sent(),e.label=4;case 4:return t++,[3,1];case 5:return[4,this.dealCard(this.dealer)];case 6:return e.sent(),[4,this.dealCard(this.dealer,!1)];case 7:return e.sent(),this.players.haveBlackjack()||this.dealer.hasBlackjack()?[4,this.dealer.topCard.show()]:[3,9];case 8:return e.sent(),this.popup.show("Blackjack!"),[3,10];case 9:this.players.current.setActive(),this.buttons.hit.enable(),this.buttons.stand.enable(),e.label=10;case 10:return this.buttons.reset.enable(),[2]}}))}))},n.prototype.reset=function(){return t(this,void 0,void 0,(function(){var t=this;return e(this,(function(e){switch(e.label){case 0:return this.popup.hide(),this.players.setInactive(),this.buttons.disableAll(),this.deck.foreground="1",this.players.hands.flatMap((function(t){return t.cards})).concat(this.dealer.cards).forEach((function(e,n){var r=e.getRect(),o=r.x,i=r.y,s=t.deck.getRect(),a=s.x,u=s.y;e.foreground=t.deck.count+n,t.deck.push(e.hide().setTransform(o-a,i-u).toggleClass("dealt"))})),this.dealer.empty(),this.players.empty(),[4,this.deck.shuffle()];case 1:return e.sent(),[4,this.deck.shuffle()];case 2:return e.sent(),this.players.reset(),this.buttons.deal.enable(),[2]}}))}))},n.prototype.hit=function(){return t(this,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return this.buttons.disableAll(),[4,this.dealCard(this.players.current)];case 1:return t.sent(),this.players.current.hasBust()&&this.players.setNext(),this.players.current?(this.players.current.setActive(),this.buttons.enableAllExceptDeal()):this.stand(),[2]}}))}))},n.prototype.stand=function(){return t(this,void 0,void 0,(function(){var t,n;return e(this,(function(e){switch(e.label){case 0:return this.buttons.disableAll(),this.players.setNext(),this.players.current?(this.players.current.setActive(),this.buttons.enableAllExceptDeal(),[3,6]):[3,1];case 1:return[4,this.dealer.topCard.show()];case 2:e.sent(),e.label=3;case 3:return this.dealer.getScore()<17?[4,this.dealCard(this.dealer)]:[3,5];case 4:return e.sent(),[3,3];case 5:t=this.dealer.getScore(),n=this.players.getTopScore(),this.players.haveBust()?this.popup.show("Defeat!"):this.dealer.hasBust()||t<n?this.popup.show("Victory!"):t===n?this.popup.show("Push!"):this.popup.show("Defeat!"),this.buttons.reset.enable(),e.label=6;case 6:return[2]}}))}))},n.prototype.dealCard=function(n,r){return void 0===r&&(r=!0),t(this,void 0,void 0,(function(){var t,o,i,s,a,u;return e(this,(function(e){switch(e.label){case 0:return t=this.deck.getOffsetTop(),o=t.x,i=t.y,s=n.getRect(),a=s.x,u=s.y,[4,n.push(this.deck.pop().setTransform(o-a,i-u)).dragCard(r)];case 1:return e.sent(),[2]}}))}))},n}(),r=function(){function t(t){this.elem=t}return t.prototype.attachHandler=function(t){this.elem.onclick=t},t.prototype.disable=function(){this.elem.setAttribute("disabled","")},t.prototype.enable=function(){this.elem.removeAttribute("disabled")},t}(),o=function(){function t(t,e,n,r){this.deal=t,this.reset=e,this.hit=n,this.stand=r}return t.prototype.disableAll=function(){this.deal.disable(),this.reset.disable(),this.hit.disable(),this.stand.disable()},t.prototype.enableAllExceptDeal=function(){this.reset.enable(),this.hit.enable(),this.stand.enable()},t}();var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(t){var e=t.delay,n=void 0===e?0:e,r=t.duration,o=void 0===r?0:r,s=n+Date.now();return i(i({},t),{start:s,end:s+o,hasStarted:!1,hasEnded:!1})},a=function(t){return t<.5?4*Math.pow(t,3):(t-1)*(2*t-2)*(2*t-2)+1};const u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Promise((function(e){var n=t.map(s),r=function(){var t=Date.now(),o=n.filter((function(e){var n=e.hasEnded,r=e.start;return!n&&r<=t}));o.length?(o.forEach((function(e){var n=e.start,r=e.end,o=e.onStart,i=e.onProgress,s=e.onEnd;e.hasStarted||(e.hasStarted=!0,null==o||o());var u=(t-n)/(r-n);null==i||i((function(t,e){return t+(e-t)*a(u<1?u:1)})),t>=r&&(e.hasEnded=!0,null==s||s())})),requestAnimationFrame(r)):e()};requestAnimationFrame(r)}))};var c=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=document.createElement("div");return(t=r.classList).add.apply(t,e),r};const l=function(){function t(t,e,n){void 0===n&&(n=0),this.elem=c("card"),this.rank=t;var r=c("inner");r.append(c("back")),r.append(c("face",t+"-of-"+e)),this.elem.append(r);var o=-n/4;this.setTransform(o,o).foreground=n}return t.prototype.show=function(){return t=this,e=void 0,r=function(){var t=this;return function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(e){switch(e.label){case 0:return[4,u({duration:400,onProgress:function(e){t.rotationY=e(0,180)}})];case 1:return e.sent(),[2,this]}}))},new((n=void 0)||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.hide=function(){var t=this;return u({duration:200,onProgress:function(e){t.rotationY=e(180,0)}}),this},t.prototype.setTransform=function(t,e){return this.styles.transform="translate("+t+"px, "+e+"px)",this},t.prototype.getTransform=function(){var t=getComputedStyle(this.elem).transform.replace(/[^\d\-.,]/g,"").split(","),e=t[4],n=t[5];return{x:Number(e)||0,y:Number(n)||0}},t.prototype.getRect=function(){return this.elem.getBoundingClientRect()},t.prototype.toggleClass=function(t){return this.elem.classList.toggle(t),this},Object.defineProperty(t.prototype,"foreground",{set:function(t){this.styles.zIndex=t.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{set:function(t){this.styles.opacity=t.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotationY",{set:function(t){this.elem.firstChild.style.transform="rotateY("+t+"deg)"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.elem.style},enumerable:!1,configurable:!0}),t}(),f=function(){function t(t){this.elem=t,this.cards=[]}return t.prototype.push=function(t){return this.cards.push(t),this.elem.append(t.elem),this},t.prototype.pop=function(){return this.cards.pop()},t.prototype.getRect=function(){return this.elem.getBoundingClientRect()},Object.defineProperty(t.prototype,"count",{get:function(){return this.cards.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topCard",{get:function(){return this.cards[this.count-1]},enumerable:!1,configurable:!0}),t}();var h,p=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},y=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const b=function(t){function e(e,n,r){var o=t.call(this,e)||this;return n.forEach((function(t){r.forEach((function(e){var n=-o.count/4,r=new l(e,t,o.count).setTransform(n,-200+n);r.opacity=0,o.push(r)}))})),o}return p(e,t),e.prototype.intro=function(){return d(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,u.apply(void 0,this.cards.map((function(t,e){var n=t.getTransform(),r=n.x,o=n.y,i=-e/4;return{delay:8*e,duration:600,onProgress:function(e){t.setTransform(e(r,i),e(o,i)).opacity=e(0,1)}}})))];case 1:return t.sent(),[2]}}))}))},e.prototype.shuffle=function(){return d(this,void 0,void 0,(function(){var t,e,n,r;return y(this,(function(o){switch(o.label){case 0:for(t=this.count-1;t;t-=1)e=Math.floor(Math.random()*(t+1)),r=[this.cards[e],this.cards[t]],this.cards[t]=r[0],this.cards[e]=r[1];return n=this.topCard.getRect().width,[4,u.apply(void 0,this.cards.reduce((function(t,e,r){var o=2*r,i=e.getTransform(),s=i.x,a=i.y,u=-r/4,c=(2*Math.round(Math.random())-1)*(Math.random()*n/2+n/2);return t.push({delay:o,duration:200,onProgress:function(t){e.setTransform(t(s,c),t(a,u))}},{duration:200,delay:o+200,onStart:function(){e.foreground=r},onProgress:function(t){e.setTransform(t(c,u),u)}}),t}),[]))];case 1:return o.sent(),[2]}}))}))},e.prototype.getOffsetTop=function(){var t=this.getRect(),e=t.x,n=t.y,r=this.topCard.getTransform();return{x:e+r.x,y:n+r.y}},Object.defineProperty(e.prototype,"foreground",{set:function(t){this.elem.style.zIndex=t},enumerable:!1,configurable:!0}),e}(f);var v=(new Map).set("ace",(function(t,e){return t<11&&e<2?11:1})).set("two",(function(){return 2})).set("three",(function(){return 3})).set("four",(function(){return 4})).set("five",(function(){return 5})).set("six",(function(){return 6})).set("seven",(function(){return 7})).set("eight",(function(){return 8})).set("nine",(function(){return 9})).set("ten",(function(){return 10})).set("jack",(function(){return 10})).set("queen",(function(){return 10})).set("king",(function(){return 10})),g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.dragCard=function(t){return e=this,n=void 0,o=function(){var e,n,r,o,i=this;return function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(s){switch(s.label){case 0:return e=this.topCard.getTransform(),n=e.x,r=e.y,o=10*(1-this.count),[4,u({duration:400,onStart:function(){t&&i.topCard.show()},onProgress:function(t){i.topCard.setTransform(t(n,o),t(r,o))},onEnd:function(){i.topCard.toggleClass("dealt").foreground=i.count}})];case 1:return s.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(t,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}u((o=o.apply(e,n||[])).next())}));var e,n,r,o},e.prototype.setActive=function(){this.classList.add("active")},e.prototype.setInactive=function(){this.classList.remove("active")},e.prototype.empty=function(){return this.cards=[],this},e.prototype.getScore=function(){return this.cards.reduce((function(t,e,n){return t+v.get(e.rank)(t,n)}),0)},e.prototype.hasBlackjack=function(){return 21===this.getScore()&&2===this.count},e.prototype.hasBust=function(){return this.getScore()>21},Object.defineProperty(e.prototype,"classList",{get:function(){return this.elem.classList},enumerable:!1,configurable:!0}),e}(f),m=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.currentIndex=0,this.hands=t}return t.prototype.setNext=function(){this.setInactive(),this.currentIndex+=1},t.prototype.reset=function(){this.currentIndex=0},t.prototype.setInactive=function(){this.hands.forEach((function(t){t.setInactive()}))},t.prototype.empty=function(){this.hands.forEach((function(t){t.empty()}))},t.prototype.haveBlackjack=function(){return this.hands.some((function(t){return t.hasBlackjack()}))},t.prototype.haveBust=function(){return!this.hands.some((function(t){return!t.hasBust()}))},t.prototype.getTopScore=function(){return this.hands.reduce((function(t,e){if(e.hasBust())return t;var n=e.getScore();return n>t?n:t}),0)},Object.defineProperty(t.prototype,"current",{get:function(){return this.hands[this.currentIndex]},enumerable:!1,configurable:!0}),t}(),x=function(){function t(t){this.elem=t}return t.prototype.show=function(t){var e=this;u({duration:100,onStart:function(){e.elem.textContent=t},onProgress:function(t){e.opacity=t(0,1)},onEnd:function(){e.opacity=""}})},t.prototype.hide=function(){var t=this;"0"!==this.styles.opacity&&u({duration:200,onProgress:function(e){t.opacity=e(1,0)},onEnd:function(){t.opacity=0}})},Object.defineProperty(t.prototype,"styles",{get:function(){return this.elem.style},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{set:function(t){this.styles.opacity=t.toString()},enumerable:!1,configurable:!0}),t}();var k=function(t){return document.getElementById(t)};new n(new o(new r(k("deal-btn")),new r(k("reset-btn")),new r(k("hit-btn")),new r(k("stand-btn"))),new x(k("popup")),new b(k("deck"),["clubs","spades","hearts","diamonds"],["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]),new w(k("dealer")),new m(new w(k("player-2")),new w(k("player-3"))))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9ibGFja2phY2sudHMiLCJ3ZWJwYWNrOi8vYmxhY2tqYWNrLy4vc3JjL3NjcmlwdHMvYnV0dG9ucy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vYmxhY2tqYWNrLy4vc3JjL3NjcmlwdHMvYnV0dG9ucy9idXR0b25zLnRzIiwid2VicGFjazovL2JsYWNramFjay8uL3NyYy9zY3JpcHRzL2FuaW1hdGUudHMiLCJ3ZWJwYWNrOi8vYmxhY2tqYWNrLy4vc3JjL3NjcmlwdHMvY2FyZC50cyIsIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9jYXJkSG9sZGVycy9jYXJkU3RhY2sudHMiLCJ3ZWJwYWNrOi8vYmxhY2tqYWNrLy4vc3JjL3NjcmlwdHMvY2FyZEhvbGRlcnMvZGVjay50cyIsIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9jb25zdGFudHMvcmFua3MudHMiLCJ3ZWJwYWNrOi8vYmxhY2tqYWNrLy4vc3JjL3NjcmlwdHMvY2FyZEhvbGRlcnMvaGFuZC50cyIsIndlYnBhY2s6Ly9ibGFja2phY2svLi9zcmMvc2NyaXB0cy9jYXJkSG9sZGVycy9wbGF5ZXJzLnRzIiwid2VicGFjazovL2JsYWNramFjay8uL3NyYy9zY3JpcHRzL3BvcHVwLnRzIiwid2VicGFjazovL2JsYWNramFjay8uL3NyYy9zY3JpcHRzL2luZGV4LnRzIiwid2VicGFjazovL2JsYWNramFjay8uL3NyYy9zY3JpcHRzL2NvbnN0YW50cy9zdWl0cy50cyJdLCJuYW1lcyI6WyJidXR0b25zIiwicG9wdXAiLCJkZWNrIiwiZGVhbGVyIiwicGxheWVycyIsInRoaXMiLCJkZWFsIiwiYXR0YWNoSGFuZGxlciIsInJlc2V0IiwiaGl0Iiwic3RhbmQiLCJpbnRybyIsInNodWZmbGUiLCJlbmFibGUiLCJoaWRlIiwiZm9yZWdyb3VuZCIsImRpc2FibGVBbGwiLCJoYW5kcyIsImhhbmQiLCJkZWFsQ2FyZCIsImhhdmVCbGFja2phY2siLCJoYXNCbGFja2phY2siLCJ0b3BDYXJkIiwic2hvdyIsImN1cnJlbnQiLCJzZXRBY3RpdmUiLCJzZXRJbmFjdGl2ZSIsImZsYXRNYXAiLCJjYXJkcyIsImNvbmNhdCIsImZvckVhY2giLCJjYXJkIiwiaW5kZXgiLCJnZXRSZWN0IiwieCIsInkiLCJkeCIsImR5IiwiY291bnQiLCJwdXNoIiwic2V0VHJhbnNmb3JtIiwidG9nZ2xlQ2xhc3MiLCJlbXB0eSIsImhhc0J1c3QiLCJzZXROZXh0IiwiZW5hYmxlQWxsRXhjZXB0RGVhbCIsImdldFNjb3JlIiwiZGVhbGVyU2NvcmUiLCJwbGF5ZXJzVG9wU2NvcmUiLCJnZXRUb3BTY29yZSIsImhhdmVCdXN0Iiwic2hvdWxkU2hvd0ZhY2UiLCJnZXRPZmZzZXRUb3AiLCJwb3AiLCJkcmFnQ2FyZCIsImVsZW0iLCJjYWxsYmFjayIsIm9uY2xpY2siLCJkaXNhYmxlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiY3JlYXRlQW5pbWF0aW9uIiwiY29uZmlnIiwiZGVsYXkiLCJkdXJhdGlvbiIsInN0YXJ0IiwiRGF0ZSIsIm5vdyIsImVuZCIsImhhc1N0YXJ0ZWQiLCJoYXNFbmRlZCIsImVhc2VDdWJpY0luT3V0IiwidCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYW5pbWF0aW9ucyIsImFuaW1hdGlvbnNDb25maWdzIiwibWFwIiwib25GcmFtZSIsInBlbmRpbmdBbmltYXRpb25zIiwiZmlsdGVyIiwibGVuZ3RoIiwiYW5pbWF0aW9uIiwib25TdGFydCIsIm9uUHJvZ3Jlc3MiLCJvbkVuZCIsImZyb20iLCJ0byIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNyZWF0ZURpdiIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImNsYXNzTmFtZXMiLCJyYW5rIiwic3VpdCIsImlubmVyIiwiYXBwZW5kIiwib2Zmc2V0IiwiY2FsYyIsInJvdGF0aW9uWSIsInN0eWxlcyIsInRyYW5zZm9ybSIsImdldFRyYW5zZm9ybSIsImdldENvbXB1dGVkU3R5bGUiLCJyZXBsYWNlIiwic3BsaXQiLCJOdW1iZXIiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGFzc05hbWUiLCJ0b2dnbGUiLCJ6SW5kZXgiLCJ0b1N0cmluZyIsIm9wYWNpdHkiLCJkZWciLCJmaXJzdENoaWxkIiwic3R5bGUiLCJzdWl0cyIsInJhbmtzIiwibGFzdEluZGV4IiwicmFuZG9tSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjYXJkV2lkdGgiLCJyZWR1Y2UiLCJhY2MiLCJyYW5kb21PZmZzZXQiLCJyb3VuZCIsInJhbmtWYWx1ZSIsIk1hcCIsInNldCIsInNjb3JlIiwicmVtb3ZlIiwiZ2V0IiwiY3VycmVudEluZGV4Iiwic29tZSIsInRleHQiLCJ0ZXh0Q29udGVudCIsImdldEVsZW0iLCJpZCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoibzJDQTRKQSxRQXJKQSxXQUNFLFdBQ1VBLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBTFYsV0FDVSxLQUFBSixVQUNBLEtBQUFDLFFBQ0EsS0FBQUMsT0FDQSxLQUFBQyxTQUNBLEtBQUFDLFVBRVJDLEtBQUtMLFFBQVFNLEtBQUtDLGVBQWMsV0FDOUIsRUFBS0QsVUFFUEQsS0FBS0wsUUFBUVEsTUFBTUQsZUFBYyxXQUMvQixFQUFLQyxXQUVQSCxLQUFLTCxRQUFRUyxJQUFJRixlQUFjLFdBQzdCLEVBQUtFLFNBRVBKLEtBQUtMLFFBQVFVLE1BQU1ILGVBQWMsV0FDL0IsRUFBS0csV0FHTiw4QixrREFDQyxTQUFNTCxLQUFLSCxLQUFLUyxTLGNBRWhCLE9BREEsU0FDQSxHQUFNTixLQUFLSCxLQUFLVSxXLGNBQWhCLFNBRUFQLEtBQUtMLFFBQVFNLEtBQUtPLFMsV0F5SHhCLE9BckhnQixZQUFBUCxLQUFkLFcsb0dBQ0VELEtBQUtKLE1BQU1hLE9BQ1hULEtBQUtILEtBQUthLFdBQWEsR0FDdkJWLEtBQUtMLFFBQVFnQixhLElBR00sRUFBQVgsS0FBS0QsUUFBUWEsTSx3QkFBYixZQUFSQyxFQUFJLEtBRWIsR0FBTWIsS0FBS2MsU0FBU0QsS0FGZSxNLE9BR25DLE9BREEsU0FDQSxHQUFNYixLQUFLYyxTQUFTRCxJLE9BQXBCLFMsd0JBSGlCLEksYUFNbkIsU0FBTWIsS0FBS2MsU0FBU2QsS0FBS0YsUyxPQUN6QixPQURBLFNBQ0EsR0FBTUUsS0FBS2MsU0FBU2QsS0FBS0YsUUFBUSxJLGNBQWpDLFNBRUlFLEtBQUtELFFBQVFnQixpQkFBbUJmLEtBQUtGLE9BQU9rQixlQUM5QyxHQUFNaEIsS0FBS0YsT0FBT21CLFFBQVFDLFFBRHhCLE0sY0FDRixTQUNBbEIsS0FBS0osTUFBTXNCLEtBQUssYyxjQUVoQmxCLEtBQUtELFFBQVFvQixRQUFRQyxZQUNyQnBCLEtBQUtMLFFBQVFTLElBQUlJLFNBQ2pCUixLQUFLTCxRQUFRVSxNQUFNRyxTLDBCQUdyQlIsS0FBS0wsUUFBUVEsTUFBTUssUyxZQUdQLFlBQUFMLE1BQWQsVyxxR0EyQkUsT0ExQkFILEtBQUtKLE1BQU1hLE9BQ1hULEtBQUtELFFBQVFzQixjQUNickIsS0FBS0wsUUFBUWdCLGFBRWJYLEtBQUtILEtBQUthLFdBQWEsSUFDdkJWLEtBQUtELFFBQVFhLE1BQ1ZVLFNBQVEsU0FBQ1QsR0FBUyxPQUFBQSxFQUFLVSxTQUN2QkMsT0FBT3hCLEtBQUtGLE9BQU95QixPQUNuQkUsU0FBUSxTQUFDQyxFQUFNQyxHQUNSLE1BQVdELEVBQUtFLFVBQWRDLEVBQUMsSUFBRUMsRUFBQyxJQUNOLEVBQW1CLEVBQUtqQyxLQUFLK0IsVUFBeEJHLEVBQUUsSUFBS0MsRUFBRSxJQUdwQk4sRUFBS2hCLFdBQWEsRUFBS2IsS0FBS29DLE1BQVFOLEVBRXBDLEVBQUs5QixLQUFLcUMsS0FDUlIsRUFDR2pCLE9BQ0EwQixhQUFhTixFQUFJRSxFQUFJRCxFQUFJRSxHQUN6QkksWUFBWSxhQUlyQnBDLEtBQUtGLE9BQU91QyxRQUNackMsS0FBS0QsUUFBUXNDLFFBRWIsR0FBTXJDLEtBQUtILEtBQUtVLFcsT0FDaEIsT0FEQSxTQUNBLEdBQU1QLEtBQUtILEtBQUtVLFcsY0FBaEIsU0FFQVAsS0FBS0QsUUFBUUksUUFDYkgsS0FBS0wsUUFBUU0sS0FBS08sUyxZQUdOLFlBQUFKLElBQWQsVywwRkFHRSxPQUZBSixLQUFLTCxRQUFRZ0IsYUFFYixHQUFNWCxLQUFLYyxTQUFTZCxLQUFLRCxRQUFRb0IsVSxjQUFqQyxTQUVJbkIsS0FBS0QsUUFBUW9CLFFBQVFtQixXQUN2QnRDLEtBQUtELFFBQVF3QyxVQUdYdkMsS0FBS0QsUUFBUW9CLFNBQ2ZuQixLQUFLRCxRQUFRb0IsUUFBUUMsWUFDckJwQixLQUFLTCxRQUFRNkMsdUJBRWJ4QyxLQUFLSyxRLFlBSUssWUFBQUEsTUFBZCxXLHlHQUNFTCxLQUFLTCxRQUFRZ0IsYUFDYlgsS0FBS0QsUUFBUXdDLFVBRVR2QyxLQUFLRCxRQUFRb0IsU0FDZm5CLEtBQUtELFFBQVFvQixRQUFRQyxZQUNyQnBCLEtBQUtMLFFBQVE2QyxzQixPQUZYLE0sT0FJRixTQUFNeEMsS0FBS0YsT0FBT21CLFFBQVFDLFEsT0FBMUIsUyx3QkFFT2xCLEtBQUtGLE9BQU8yQyxXQUFhLEdBQzlCLEdBQU16QyxLQUFLYyxTQUFTZCxLQUFLRixTQURPLE0sY0FDaEMsUyxhQUdJNEMsRUFBYzFDLEtBQUtGLE9BQU8yQyxXQUMxQkUsRUFBa0IzQyxLQUFLRCxRQUFRNkMsY0FFakM1QyxLQUFLRCxRQUFROEMsV0FDZjdDLEtBQUtKLE1BQU1zQixLQUFLLFdBQ1BsQixLQUFLRixPQUFPd0MsV0FBYUksRUFBY0MsRUFDaEQzQyxLQUFLSixNQUFNc0IsS0FBSyxZQUNQd0IsSUFBZ0JDLEVBQ3pCM0MsS0FBS0osTUFBTXNCLEtBQUssU0FFaEJsQixLQUFLSixNQUFNc0IsS0FBSyxXQUdsQmxCLEtBQUtMLFFBQVFRLE1BQU1LLFMsbUNBSVQsWUFBQU0sU0FBZCxTQUF1QkQsRUFBWWlDLEcsWUFBQSxJQUFBQSxPQUFBLEcsbUdBSWpDLE9BSE0sRUFBVzlDLEtBQUtILEtBQUtrRCxlQUFuQmxCLEVBQUMsSUFBRUMsRUFBQyxJQUNOLEVBQW1CakIsRUFBS2UsVUFBbkJHLEVBQUUsSUFBS0MsRUFBRSxJQUVwQixHQUFNbkIsRUFDSHFCLEtBQUtsQyxLQUFLSCxLQUFLbUQsTUFBTWIsYUFBYU4sRUFBSUUsRUFBSUQsRUFBSUUsSUFDOUNpQixTQUFTSCxJLGNBRlosUyxZQUlKLEVBbkpBLEdDU0EsRUFoQkEsV0FDRSxXQUFvQkksR0FBQSxLQUFBQSxPQWF0QixPQVhFLFlBQUFoRCxjQUFBLFNBQWNpRCxHQUNabkQsS0FBS2tELEtBQUtFLFFBQVVELEdBR3RCLFlBQUFFLFFBQUEsV0FDRXJELEtBQUtrRCxLQUFLSSxhQUFhLFdBQVksS0FHckMsWUFBQTlDLE9BQUEsV0FDRVIsS0FBS2tELEtBQUtLLGdCQUFnQixhQUU5QixFQWRBLEdDd0JBLEVBdEJBLFdBQ0UsV0FDU3RELEVBQ0FFLEVBQ0FDLEVBQ0FDLEdBSEEsS0FBQUosT0FDQSxLQUFBRSxRQUNBLEtBQUFDLE1BQ0EsS0FBQUMsUUFlWCxPQVpFLFlBQUFNLFdBQUEsV0FDRVgsS0FBS0MsS0FBS29ELFVBQ1ZyRCxLQUFLRyxNQUFNa0QsVUFDWHJELEtBQUtJLElBQUlpRCxVQUNUckQsS0FBS0ssTUFBTWdELFdBR2IsWUFBQWIsb0JBQUEsV0FDRXhDLEtBQUtHLE1BQU1LLFNBQ1hSLEtBQUtJLElBQUlJLFNBQ1RSLEtBQUtLLE1BQU1HLFVBRWYsRUFwQkEsRyxtTkNNTWdELEVBQWtCLFNBQUNDLEdBQ2YsTUFBNEJBLEVBQU0sTUFBbENDLE9BQUssSUFBRyxJQUFDLEVBQUUsRUFBaUJELEVBQU0sU0FBdkJFLE9BQVEsSUFBRyxJQUFDLEVBQ3pCQyxFQUFRRixFQUFRRyxLQUFLQyxNQUUzQixPQUFPLEVBQVAsS0FDS0wsR0FBTSxDQUNURyxNQUFLLEVBQ0xHLElBQUtILEVBQVFELEVBQ2JLLFlBQVksRUFDWkMsVUFBVSxLQUlSQyxFQUFpQixTQUFDQyxHQUN0QixPQUFBQSxFQUFJLEdBQU0sRUFBSSxTQUFBQSxFQUFLLElBQUtBLEVBQUksSUFBTSxFQUFJQSxFQUFJLElBQU0sRUFBSUEsRUFBSSxHQUFLLEdBOEMvRCxRQTVDZ0IsVyxJQUFDLHNEQUNmLFdBQUlDLFNBQWMsU0FBQ0MsR0FDakIsSUFBTUMsRUFBYUMsRUFBa0JDLElBQUloQixHQUVuQ2lCLEVBQVUsV0FDZCxJQUFNWCxFQUFNRCxLQUFLQyxNQUNYWSxFQUFvQkosRUFBV0ssUUFDbkMsU0FBQyxHLElBQUVWLEVBQVEsV0FBRUwsRUFBSyxRQUFPLE9BQUNLLEdBQVlMLEdBQVNFLEtBRzdDWSxFQUFrQkUsUUFDcEJGLEVBQWtCakQsU0FBUSxTQUFDb0QsR0FDakIsSUFBQWpCLEVBQ05pQixFQUFTLE1BRElkLEVBQ2JjLEVBQVMsSUFEU0MsRUFDbEJELEVBQVMsUUFEa0JFLEVBQzNCRixFQUFTLFdBRDhCRyxFQUN2Q0gsRUFBUyxNQUFUQSxFQUFTLGFBSVRBLEVBQVViLFlBQWEsRUFFdkJjLGNBR0YsSUFBTVgsR0FBS0wsRUFBTUYsSUFBVUcsRUFBTUgsR0FFakNtQixZQUNFLFNBQUNFLEVBQU1DLEdBQU8sT0FBQUQsR0FBUUMsRUFBS0QsR0FBUWYsRUFBZUMsRUFBSSxFQUFJQSxFQUFJLE1BRzVETCxHQUFPQyxJQUNUYyxFQUFVWixVQUFXLEVBRXJCZSxpQkFJSkcsc0JBQXNCVixJQUV0QkosS0FJSmMsc0JBQXNCVixPLElDNURwQlcsRUFBWSxXLFVBQUMsa0RBQ2pCLElBQU1DLEVBQU1DLFNBQVNDLGNBQWMsT0FJbkMsT0FGQSxFQUFBRixFQUFJRyxXQUFVQyxJQUFHLFFBQUlDLEdBRWRMLEdBd0ZULFFBckZBLFdBS0UsV0FBWU0sRUFBWUMsRUFBWWpFLFFBQUEsSUFBQUEsTUFBQSxHQUpwQyxLQUFBdUIsS0FBT2tDLEVBQVUsUUFLZnBGLEtBQUsyRixLQUFPQSxFQUVaLElBQU1FLEVBQVFULEVBQVUsU0FFeEJTLEVBQU1DLE9BQU9WLEVBQVUsU0FDdkJTLEVBQU1DLE9BQU9WLEVBQVUsT0FBV08sRUFBSSxPQUFPQyxJQUU3QzVGLEtBQUtrRCxLQUFLNEMsT0FBT0QsR0FFakIsSUFBTUUsR0FBVXBFLEVBQVEsRUFFeEIzQixLQUFLbUMsYUFBYTRELEVBQVFBLEdBQVFyRixXQUFhaUIsRUFrRW5ELE9BL0RRLFlBQUFULEtBQU4sVyxvb0NBQ0UsU0FBTSxFQUFRLENBQ1p5QyxTQUFVLElBQ1ZvQixXQUFZLFNBQUNpQixHQUNYLEVBQUtDLFVBQVlELEVBQUssRUFBRyxTLE9BSTdCLE9BUEEsU0FPTyxDQUFQLEVBQU9oRyxXLGdTQUdULFlBQUFTLEtBQUEsc0JBUUUsT0FQQSxFQUFRLENBQ05rRCxTQUFVLElBQ1ZvQixXQUFZLFNBQUNpQixHQUNYLEVBQUtDLFVBQVlELEVBQUssSUFBSyxNQUl4QmhHLE1BR1QsWUFBQW1DLGFBQUEsU0FBYU4sRUFBV0MsR0FHdEIsT0FGQTlCLEtBQUtrRyxPQUFPQyxVQUFZLGFBQWF0RSxFQUFDLE9BQU9DLEVBQUMsTUFFdkM5QixNQUdULFlBQUFvRyxhQUFBLFdBQ1EsTUFBaUJDLGlCQUFpQnJHLEtBQUtrRCxNQUMxQ2lELFVBQVVHLFFBQVEsYUFBYyxJQUNoQ0MsTUFBTSxLQUZNMUUsRUFBQyxLQUFFQyxFQUFDLEtBSW5CLE1BQU8sQ0FBRUQsRUFBRzJFLE9BQU8zRSxJQUFNLEVBQUdDLEVBQUcwRSxPQUFPMUUsSUFBTSxJQUc5QyxZQUFBRixRQUFBLFdBQ0UsT0FBTzVCLEtBQUtrRCxLQUFLdUQseUJBR25CLFlBQUFyRSxZQUFBLFNBQVlzRSxHQUdWLE9BRkExRyxLQUFLa0QsS0FBS3NDLFVBQVVtQixPQUFPRCxHQUVwQjFHLE1BR1Qsc0JBQUkseUJBQVUsQyxJQUFkLFNBQWU0RyxHQUNiNUcsS0FBS2tHLE9BQU9VLE9BQVNBLEVBQU9DLFksZ0NBRzlCLHNCQUFJLHNCQUFPLEMsSUFBWCxTQUFZQyxHQUNWOUcsS0FBS2tHLE9BQU9ZLFFBQVVBLEVBQVFELFksZ0NBR2hDLHNCQUFZLHdCQUFTLEMsSUFBckIsU0FBc0JFLEdBRWxCL0csS0FBS2tELEtBQUs4RCxXQUNWQyxNQUFNZCxVQUFZLFdBQVdZLEVBQUcsUSxnQ0FHcEMsc0JBQVkscUJBQU0sQyxJQUFsQixXQUNFLE9BQU8vRyxLQUFLa0QsS0FBSytELE8sZ0NBRXJCLEVBbkZBLEdDa0JBLEVBN0JBLFdBR0UsV0FBc0IvRCxHQUFBLEtBQUFBLE9BRnRCLEtBQUEzQixNQUFnQixHQTBCbEIsT0F0QkUsWUFBQVcsS0FBQSxTQUFLUixHQUlILE9BSEExQixLQUFLdUIsTUFBTVcsS0FBS1IsR0FDaEIxQixLQUFLa0QsS0FBSzRDLE9BQU9wRSxFQUFLd0IsTUFFZmxELE1BR1QsWUFBQWdELElBQUEsV0FDRSxPQUFPaEQsS0FBS3VCLE1BQU15QixPQUdwQixZQUFBcEIsUUFBQSxXQUNFLE9BQU81QixLQUFLa0QsS0FBS3VELHlCQUduQixzQkFBSSxvQkFBSyxDLElBQVQsV0FDRSxPQUFPekcsS0FBS3VCLE1BQU1xRCxRLGdDQUdwQixzQkFBSSxzQkFBTyxDLElBQVgsV0FDRSxPQUFPNUUsS0FBS3VCLE1BQU12QixLQUFLaUMsTUFBUSxJLGdDQUVuQyxFQTNCQSxHLHF4REN3R0EsUUFuR0EsWUFDRSxXQUFZaUIsRUFBc0JnRSxFQUFlQyxHQUFqRCxNQUNFLFlBQU1qRSxJQUFLLEssT0FFWGdFLEVBQU16RixTQUFRLFNBQUNtRSxHQUNidUIsRUFBTTFGLFNBQVEsU0FBQ2tFLEdBQ2IsSUFBTUksR0FBVSxFQUFLOUQsTUFBUSxFQUN2QlAsRUFBTyxJQUFJLEVBQUtpRSxFQUFNQyxFQUFNLEVBQUszRCxPQUFPRSxhQUM1QzRELEdBQ0MsSUFBTUEsR0FHVHJFLEVBQUtvRixRQUFVLEVBRWYsRUFBSzVFLEtBQUtSLFMsRUFtRmxCLE9BakdtQixPQW1CWCxZQUFBcEIsTUFBTixXLDBGQUNFLFNBQU0sYUFBUSxFQUNUTixLQUFLdUIsTUFBTWlELEtBQUksU0FBQzlDLEVBQU1DLEdBQ2pCLE1BQVdELEVBQUswRSxlQUFkdkUsRUFBQyxJQUFFQyxFQUFDLElBQ05pRSxHQUFVcEUsRUFBUSxFQUV4QixNQUFPLENBQ0wrQixNQUFlLEVBQVIvQixFQUNQZ0MsU0FBVSxJQUNWb0IsV0FBVSxTQUFDaUIsR0FFVHRFLEVBQUtTLGFBQWE2RCxFQUFLbkUsRUFBR2tFLEdBQVNDLEVBQUtsRSxFQUFHaUUsSUFBU2UsUUFBVWQsRUFDNUQsRUFDQSxVLGNBWlYsUyxZQW9CSSxZQUFBekYsUUFBTixXLHNHQUNFLElBQVM2RyxFQUFZcEgsS0FBS2lDLE1BQVEsRUFBR21GLEVBQVdBLEdBQWEsRUFDckRDLEVBQWNDLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVlKLEVBQVksSUFFNUQsRUFBbUQsQ0FDakRwSCxLQUFLdUIsTUFBTThGLEdBQ1hySCxLQUFLdUIsTUFBTTZGLElBRlpwSCxLQUFLdUIsTUFBTTZGLEdBQVUsS0FBRXBILEtBQUt1QixNQUFNOEYsR0FBWSxLQVNqRCxPQUZlSSxFQUFjekgsS0FBS2lCLFFBQVFXLFVBQVMsTUFFbkQsR0FBTSxhQUFRLEVBQ1Q1QixLQUFLdUIsTUFBTW1HLFFBQU8sU0FBQ0MsRUFBS2pHLEVBQU1DLEdBQy9CLElBQU0rQixFQUFnQixFQUFSL0IsRUFDUixFQUFXRCxFQUFLMEUsZUFBZHZFLEVBQUMsSUFBRUMsRUFBQyxJQUNOaUUsR0FBVXBFLEVBQVEsRUFDbEJpRyxHQUN5QixFQUE1Qk4sS0FBS08sTUFBTVAsS0FBS0UsVUFBZ0IsSUFDL0JGLEtBQUtFLFNBQVdDLEVBQWEsRUFBSUEsRUFBWSxHQXNCakQsT0FwQkFFLEVBQUl6RixLQUNGLENBQ0V3QixNQUFLLEVBQ0xDLFNBZlMsSUFnQlRvQixXQUFVLFNBQUNpQixHQUNUdEUsRUFBS1MsYUFBYTZELEVBQUtuRSxFQUFHK0YsR0FBZTVCLEVBQUtsRSxFQUFHaUUsTUFHckQsQ0FDRXBDLFNBckJTLElBc0JURCxNQUFPQSxFQXRCRSxJQXVCVG9CLFFBQU8sV0FDTHBELEVBQUtoQixXQUFhaUIsR0FFcEJvRCxXQUFVLFNBQUNpQixHQUNUdEUsRUFBS1MsYUFBYTZELEVBQUs0QixFQUFjN0IsR0FBU0EsTUFLN0M0QixJQUNOLE0sY0E5QkwsUyxZQWtDRixZQUFBNUUsYUFBQSxXQUNRLE1BQVcvQyxLQUFLNEIsVUFBZEMsRUFBQyxJQUFFQyxFQUFDLElBQ04sRUFBbUI5QixLQUFLaUIsUUFBUW1GLGVBRXRDLE1BQU8sQ0FBRXZFLEVBQUdBLEVBRkMsSUFFT0MsRUFBR0EsRUFGSCxNQUt0QixzQkFBSSx5QkFBVSxDLElBQWQsU0FBZThFLEdBQ2I1RyxLQUFLa0QsS0FBSytELE1BQU1MLE9BQVNBLEcsZ0NBRTdCLEVBakdBLENBQW1CLEdDVVosSUFnQk1rQixHQUFZLElBQUlDLEtBSTFCQyxJQUFJLE9BQVUsU0FBQ0MsRUFBT3RHLEdBQVUsT0FBQ3NHLEVBQVEsSUFBTXRHLEVBQVEsRUFBSSxHQUFLLEtBQ2hFcUcsSUFBSSxPQUFVLFdBQU0sWUFDcEJBLElBQUksU0FBWSxXQUFNLFlBQ3RCQSxJQUFJLFFBQVcsV0FBTSxZQUNyQkEsSUFBSSxRQUFXLFdBQU0sWUFDckJBLElBQUksT0FBVSxXQUFNLFlBQ3BCQSxJQUFJLFNBQVksV0FBTSxZQUN0QkEsSUFBSSxTQUFZLFdBQU0sWUFDdEJBLElBQUksUUFBVyxXQUFNLFlBQ3JCQSxJQUFJLE9BQVUsV0FBTSxhQUNwQkEsSUFBSSxRQUFXLFdBQU0sYUFDckJBLElBQUksU0FBWSxXQUFNLGFBQ3RCQSxJQUFJLFFBQVcsV0FBTSxhLHlkQ2F4QixRQXZEQSx5QiwrQ0FxREEsT0FyRG1CLE9BQ1gsWUFBQS9FLFNBQU4sU0FBZUgsRyw0b0NBSWIsT0FITSxFQUFXOUMsS0FBS2lCLFFBQVFtRixlQUF0QnZFLEVBQUMsSUFBRUMsRUFBQyxJQUNOaUUsRUFBNEIsSUFBbEIsRUFBSS9GLEtBQUtpQyxPQUV6QixHQUFNLEVBQVEsQ0FDWjBCLFNBQVUsSUFDVm1CLFFBQVMsV0FDSGhDLEdBQ0YsRUFBSzdCLFFBQVFDLFFBR2pCNkQsV0FBWSxTQUFDaUIsR0FDWCxFQUFLL0UsUUFBUWtCLGFBQWE2RCxFQUFLbkUsRUFBR2tFLEdBQVNDLEVBQUtsRSxFQUFHaUUsS0FFckRmLE1BQU8sV0FDTCxFQUFLL0QsUUFBUW1CLFlBQVksU0FBUzFCLFdBQWEsRUFBS3VCLFUsY0FYeEQsUyx5U0FnQkYsWUFBQWIsVUFBQSxXQUNFcEIsS0FBS3dGLFVBQVVDLElBQUksV0FHckIsWUFBQXBFLFlBQUEsV0FDRXJCLEtBQUt3RixVQUFVMEMsT0FBTyxXQUd4QixZQUFBN0YsTUFBQSxXQUdFLE9BRkFyQyxLQUFLdUIsTUFBUSxHQUVOdkIsTUFHVCxZQUFBeUMsU0FBQSxXQUNFLE9BQU96QyxLQUFLdUIsTUFBTW1HLFFBQ2hCLFNBQUNDLEVBQUtqRyxFQUFNQyxHQUFVLE9BQUFnRyxFQUFNRyxFQUFVSyxJQUFJekcsRUFBS2lFLEtBQW5CbUMsQ0FBeUJILEVBQUtoRyxLQUMxRCxJQUlKLFlBQUFYLGFBQUEsV0FDRSxPQTdDYyxLQTZDUGhCLEtBQUt5QyxZQUEyQyxJQUFmekMsS0FBS2lDLE9BRy9DLFlBQUFLLFFBQUEsV0FDRSxPQUFPdEMsS0FBS3lDLFdBakRFLElBb0RoQixzQkFBWSx3QkFBUyxDLElBQXJCLFdBQ0UsT0FBT3pDLEtBQUtrRCxLQUFLc0MsVyxnQ0FFckIsRUFyREEsQ0FBbUIsR0NrRG5CLEVBdkRBLFdBS0UsYSxJQUFZLHNEQUZKLEtBQUE0QyxhQUFlLEVBR3JCcEksS0FBS1ksTUFBUUEsRUErQ2pCLE9BNUNFLFlBQUEyQixRQUFBLFdBQ0V2QyxLQUFLcUIsY0FDTHJCLEtBQUtvSSxjQUFnQixHQUd2QixZQUFBakksTUFBQSxXQUNFSCxLQUFLb0ksYUFBZSxHQUd0QixZQUFBL0csWUFBQSxXQUNFckIsS0FBS1ksTUFBTWEsU0FBUSxTQUFDWixHQUNsQkEsRUFBS1Esa0JBSVQsWUFBQWdCLE1BQUEsV0FDRXJDLEtBQUtZLE1BQU1hLFNBQVEsU0FBQ1osR0FDbEJBLEVBQUt3QixZQUlULFlBQUF0QixjQUFBLFdBQ0UsT0FBT2YsS0FBS1ksTUFBTXlILE1BQUssU0FBQ3hILEdBQVMsT0FBQUEsRUFBS0csbUJBR3hDLFlBQUE2QixTQUFBLFdBQ0UsT0FBUTdDLEtBQUtZLE1BQU15SCxNQUFLLFNBQUN4SCxHQUFTLE9BQUNBLEVBQUt5QixjQUcxQyxZQUFBTSxZQUFBLFdBQ0UsT0FBTzVDLEtBQUtZLE1BQU04RyxRQUFPLFNBQUNDLEVBQUs5RyxHQUM3QixHQUFJQSxFQUFLeUIsVUFDUCxPQUFPcUYsRUFHVCxJQUFNTSxFQUFRcEgsRUFBSzRCLFdBRW5CLE9BQU93RixFQUFRTixFQUFNTSxFQUFRTixJQUM1QixJQUdMLHNCQUFJLHNCQUFPLEMsSUFBWCxXQUNFLE9BQU8zSCxLQUFLWSxNQUFNWixLQUFLb0ksZSxnQ0FFM0IsRUFyREEsR0N5Q0EsRUF6Q0EsV0FDRSxXQUFvQmxGLEdBQUEsS0FBQUEsT0FzQ3RCLE9BcENFLFlBQUFoQyxLQUFBLFNBQUtvSCxHQUFMLFdBQ0UsRUFBUSxDQUNOM0UsU0FBVSxJQUNWbUIsUUFBUyxXQUNQLEVBQUs1QixLQUFLcUYsWUFBY0QsR0FFMUJ2RCxXQUFZLFNBQUNpQixHQUNYLEVBQUtjLFFBQVVkLEVBQUssRUFBRyxJQUV6QmhCLE1BQU8sV0FDTCxFQUFLOEIsUUFBVSxPQUtyQixZQUFBckcsS0FBQSxzQkFDOEIsTUFBeEJULEtBQUtrRyxPQUFPWSxTQUNkLEVBQVEsQ0FDTm5ELFNBQVUsSUFDVm9CLFdBQVksU0FBQ2lCLEdBQ1gsRUFBS2MsUUFBVWQsRUFBSyxFQUFHLElBRXpCaEIsTUFBTyxXQUNMLEVBQUs4QixRQUFVLE1BTXZCLHNCQUFZLHFCQUFNLEMsSUFBbEIsV0FDRSxPQUFPOUcsS0FBS2tELEtBQUsrRCxPLGdDQUduQixzQkFBWSxzQkFBTyxDLElBQW5CLFNBQW9CSCxHQUNsQjlHLEtBQUtrRyxPQUFPWSxRQUFVQSxFQUFRRCxZLGdDQUVsQyxFQXZDQSxHQ1VBLElBQU0yQixFQUFVLFNBQXdCQyxHQUN0QyxPQUFBbkQsU0FBU29ELGVBQWVELElBRzFCLElBQUksRUFDRixJQUFJLEVBQ0YsSUFBSSxFQUFPRCxFQUFRLGFBQ25CLElBQUksRUFBT0EsRUFBUSxjQUNuQixJQUFJLEVBQU9BLEVBQVEsWUFDbkIsSUFBSSxFQUFPQSxFQUFRLGVBRXJCLElBQUksRUFBTUEsRUFBUSxVQUNsQixJQUFJLEVBQUtBLEVBQVEsUUNoQkUsQ0FBQyxRQUFELDhCTFNBLEMsNkZJUW5CLElBQUksRUFBS0EsRUFBUSxXQUNqQixJQUFJLEVBQVEsSUFBSSxFQUFLQSxFQUFRLGFBQWMsSUFBSSxFQUFLQSxFQUFRLGdCIiwiZmlsZSI6ImpzL2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCdXR0b25zIGZyb20gJ2J1dHRvbnMvYnV0dG9ucyc7XHJcbmltcG9ydCBEZWNrIGZyb20gJ2NhcmRIb2xkZXJzL2RlY2snO1xyXG5pbXBvcnQgSGFuZCBmcm9tICdjYXJkSG9sZGVycy9oYW5kJztcclxuaW1wb3J0IFBsYXllcnMgZnJvbSAnY2FyZEhvbGRlcnMvcGxheWVycyc7XHJcbmltcG9ydCBQb3B1cFRleHQgZnJvbSAnY29uc3RhbnRzL3BvcHVwVGV4dCc7XHJcbmltcG9ydCBQb3B1cCBmcm9tICdwb3B1cCc7XHJcblxyXG5jbGFzcyBCbGFja2phY2sge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBidXR0b25zOiBCdXR0b25zLFxyXG4gICAgcHJpdmF0ZSBwb3B1cDogUG9wdXAsXHJcbiAgICBwcml2YXRlIGRlY2s6IERlY2ssXHJcbiAgICBwcml2YXRlIGRlYWxlcjogSGFuZCxcclxuICAgIHByaXZhdGUgcGxheWVyczogUGxheWVyc1xyXG4gICkge1xyXG4gICAgdGhpcy5idXR0b25zLmRlYWwuYXR0YWNoSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMuZGVhbCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmJ1dHRvbnMucmVzZXQuYXR0YWNoSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5idXR0b25zLmhpdC5hdHRhY2hIYW5kbGVyKCgpID0+IHtcclxuICAgICAgdGhpcy5oaXQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5idXR0b25zLnN0YW5kLmF0dGFjaEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICB0aGlzLnN0YW5kKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCB0aGlzLmRlY2suaW50cm8oKTtcclxuICAgICAgYXdhaXQgdGhpcy5kZWNrLnNodWZmbGUoKTtcclxuICAgICAgYXdhaXQgdGhpcy5kZWNrLnNodWZmbGUoKTtcclxuXHJcbiAgICAgIHRoaXMuYnV0dG9ucy5kZWFsLmVuYWJsZSgpO1xyXG4gICAgfSkoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgZGVhbCgpIHtcclxuICAgIHRoaXMucG9wdXAuaGlkZSgpO1xyXG4gICAgdGhpcy5kZWNrLmZvcmVncm91bmQgPSAnJztcclxuICAgIHRoaXMuYnV0dG9ucy5kaXNhYmxlQWxsKCk7XHJcblxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XHJcbiAgICBmb3IgKGNvbnN0IGhhbmQgb2YgdGhpcy5wbGF5ZXJzLmhhbmRzKSB7XHJcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWF3YWl0LWluLWxvb3AgKi9cclxuICAgICAgYXdhaXQgdGhpcy5kZWFsQ2FyZChoYW5kKTtcclxuICAgICAgYXdhaXQgdGhpcy5kZWFsQ2FyZChoYW5kKTtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCB0aGlzLmRlYWxDYXJkKHRoaXMuZGVhbGVyKTtcclxuICAgIGF3YWl0IHRoaXMuZGVhbENhcmQodGhpcy5kZWFsZXIsIGZhbHNlKTtcclxuXHJcbiAgICBpZiAodGhpcy5wbGF5ZXJzLmhhdmVCbGFja2phY2soKSB8fCB0aGlzLmRlYWxlci5oYXNCbGFja2phY2soKSkge1xyXG4gICAgICBhd2FpdCB0aGlzLmRlYWxlci50b3BDYXJkLnNob3coKTtcclxuICAgICAgdGhpcy5wb3B1cC5zaG93KFBvcHVwVGV4dC5CbGFja2phY2spO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wbGF5ZXJzLmN1cnJlbnQuc2V0QWN0aXZlKCk7XHJcbiAgICAgIHRoaXMuYnV0dG9ucy5oaXQuZW5hYmxlKCk7XHJcbiAgICAgIHRoaXMuYnV0dG9ucy5zdGFuZC5lbmFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJ1dHRvbnMucmVzZXQuZW5hYmxlKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHJlc2V0KCkge1xyXG4gICAgdGhpcy5wb3B1cC5oaWRlKCk7XHJcbiAgICB0aGlzLnBsYXllcnMuc2V0SW5hY3RpdmUoKTtcclxuICAgIHRoaXMuYnV0dG9ucy5kaXNhYmxlQWxsKCk7XHJcblxyXG4gICAgdGhpcy5kZWNrLmZvcmVncm91bmQgPSAnMSc7XHJcbiAgICB0aGlzLnBsYXllcnMuaGFuZHNcclxuICAgICAgLmZsYXRNYXAoKGhhbmQpID0+IGhhbmQuY2FyZHMpXHJcbiAgICAgIC5jb25jYXQodGhpcy5kZWFsZXIuY2FyZHMpXHJcbiAgICAgIC5mb3JFYWNoKChjYXJkLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gY2FyZC5nZXRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeyB4OiBkeCwgeTogZHkgfSA9IHRoaXMuZGVjay5nZXRSZWN0KCk7XHJcblxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgICAgIGNhcmQuZm9yZWdyb3VuZCA9IHRoaXMuZGVjay5jb3VudCArIGluZGV4O1xyXG5cclxuICAgICAgICB0aGlzLmRlY2sucHVzaChcclxuICAgICAgICAgIGNhcmRcclxuICAgICAgICAgICAgLmhpZGUoKVxyXG4gICAgICAgICAgICAuc2V0VHJhbnNmb3JtKHggLSBkeCwgeSAtIGR5KVxyXG4gICAgICAgICAgICAudG9nZ2xlQ2xhc3MoJ2RlYWx0JylcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLmRlYWxlci5lbXB0eSgpO1xyXG4gICAgdGhpcy5wbGF5ZXJzLmVtcHR5KCk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy5kZWNrLnNodWZmbGUoKTtcclxuICAgIGF3YWl0IHRoaXMuZGVjay5zaHVmZmxlKCk7XHJcblxyXG4gICAgdGhpcy5wbGF5ZXJzLnJlc2V0KCk7XHJcbiAgICB0aGlzLmJ1dHRvbnMuZGVhbC5lbmFibGUoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgaGl0KCkge1xyXG4gICAgdGhpcy5idXR0b25zLmRpc2FibGVBbGwoKTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLmRlYWxDYXJkKHRoaXMucGxheWVycy5jdXJyZW50KTtcclxuXHJcbiAgICBpZiAodGhpcy5wbGF5ZXJzLmN1cnJlbnQuaGFzQnVzdCgpKSB7XHJcbiAgICAgIHRoaXMucGxheWVycy5zZXROZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucGxheWVycy5jdXJyZW50KSB7XHJcbiAgICAgIHRoaXMucGxheWVycy5jdXJyZW50LnNldEFjdGl2ZSgpO1xyXG4gICAgICB0aGlzLmJ1dHRvbnMuZW5hYmxlQWxsRXhjZXB0RGVhbCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdGFuZCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBzdGFuZCgpIHtcclxuICAgIHRoaXMuYnV0dG9ucy5kaXNhYmxlQWxsKCk7XHJcbiAgICB0aGlzLnBsYXllcnMuc2V0TmV4dCgpO1xyXG5cclxuICAgIGlmICh0aGlzLnBsYXllcnMuY3VycmVudCkge1xyXG4gICAgICB0aGlzLnBsYXllcnMuY3VycmVudC5zZXRBY3RpdmUoKTtcclxuICAgICAgdGhpcy5idXR0b25zLmVuYWJsZUFsbEV4Y2VwdERlYWwoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuZGVhbGVyLnRvcENhcmQuc2hvdygpO1xyXG5cclxuICAgICAgd2hpbGUgKHRoaXMuZGVhbGVyLmdldFNjb3JlKCkgPCAxNykge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZGVhbENhcmQodGhpcy5kZWFsZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBkZWFsZXJTY29yZSA9IHRoaXMuZGVhbGVyLmdldFNjb3JlKCk7XHJcbiAgICAgIGNvbnN0IHBsYXllcnNUb3BTY29yZSA9IHRoaXMucGxheWVycy5nZXRUb3BTY29yZSgpO1xyXG5cclxuICAgICAgaWYgKHRoaXMucGxheWVycy5oYXZlQnVzdCgpKSB7XHJcbiAgICAgICAgdGhpcy5wb3B1cC5zaG93KFBvcHVwVGV4dC5EZWZlYXQpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGVhbGVyLmhhc0J1c3QoKSB8fCBkZWFsZXJTY29yZSA8IHBsYXllcnNUb3BTY29yZSkge1xyXG4gICAgICAgIHRoaXMucG9wdXAuc2hvdyhQb3B1cFRleHQuVmljdG9yeSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGVhbGVyU2NvcmUgPT09IHBsYXllcnNUb3BTY29yZSkge1xyXG4gICAgICAgIHRoaXMucG9wdXAuc2hvdyhQb3B1cFRleHQuUHVzaCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wb3B1cC5zaG93KFBvcHVwVGV4dC5EZWZlYXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmJ1dHRvbnMucmVzZXQuZW5hYmxlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGRlYWxDYXJkKGhhbmQ6IEhhbmQsIHNob3VsZFNob3dGYWNlID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmRlY2suZ2V0T2Zmc2V0VG9wKCk7XHJcbiAgICBjb25zdCB7IHg6IGR4LCB5OiBkeSB9ID0gaGFuZC5nZXRSZWN0KCk7XHJcblxyXG4gICAgYXdhaXQgaGFuZFxyXG4gICAgICAucHVzaCh0aGlzLmRlY2sucG9wKCkuc2V0VHJhbnNmb3JtKHggLSBkeCwgeSAtIGR5KSlcclxuICAgICAgLmRyYWdDYXJkKHNob3VsZFNob3dGYWNlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJsYWNramFjaztcclxuIiwiY2xhc3MgQnV0dG9uIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtOiBIVE1MQnV0dG9uRWxlbWVudCkge31cblxuICBhdHRhY2hIYW5kbGVyKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5lbGVtLm9uY2xpY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5lbGVtLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XG4gIH1cblxuICBlbmFibGUoKSB7XG4gICAgdGhpcy5lbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b247XG4iLCJpbXBvcnQgQnV0dG9uIGZyb20gJy4vYnV0dG9uJztcclxuXHJcbmNsYXNzIEJ1dHRvbnMge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHVibGljIGRlYWw6IEJ1dHRvbixcclxuICAgIHB1YmxpYyByZXNldDogQnV0dG9uLFxyXG4gICAgcHVibGljIGhpdDogQnV0dG9uLFxyXG4gICAgcHVibGljIHN0YW5kOiBCdXR0b25cclxuICApIHt9XHJcblxyXG4gIGRpc2FibGVBbGwoKSB7XHJcbiAgICB0aGlzLmRlYWwuZGlzYWJsZSgpO1xyXG4gICAgdGhpcy5yZXNldC5kaXNhYmxlKCk7XHJcbiAgICB0aGlzLmhpdC5kaXNhYmxlKCk7XHJcbiAgICB0aGlzLnN0YW5kLmRpc2FibGUoKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZUFsbEV4Y2VwdERlYWwoKSB7XHJcbiAgICB0aGlzLnJlc2V0LmVuYWJsZSgpO1xyXG4gICAgdGhpcy5oaXQuZW5hYmxlKCk7XHJcbiAgICB0aGlzLnN0YW5kLmVuYWJsZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnV0dG9ucztcclxuIiwiZXhwb3J0IGludGVyZmFjZSBBbmltYXRpb25Db25maWcge1xyXG4gIGRlbGF5PzogbnVtYmVyO1xyXG4gIGR1cmF0aW9uPzogbnVtYmVyO1xyXG4gIG9uU3RhcnQ/OiAoKSA9PiB2b2lkO1xyXG4gIG9uUHJvZ3Jlc3M/OiAoY2FsY3VsYXRlU3RlcDogKGZyb206IG51bWJlciwgdG86IG51bWJlcikgPT4gbnVtYmVyKSA9PiB2b2lkO1xyXG4gIG9uRW5kPzogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgY3JlYXRlQW5pbWF0aW9uID0gKGNvbmZpZzogQW5pbWF0aW9uQ29uZmlnKSA9PiB7XHJcbiAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMCB9ID0gY29uZmlnO1xyXG4gIGNvbnN0IHN0YXJ0ID0gZGVsYXkgKyBEYXRlLm5vdygpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgLi4uY29uZmlnLFxyXG4gICAgc3RhcnQsXHJcbiAgICBlbmQ6IHN0YXJ0ICsgZHVyYXRpb24sXHJcbiAgICBoYXNTdGFydGVkOiBmYWxzZSxcclxuICAgIGhhc0VuZGVkOiBmYWxzZSxcclxuICB9O1xyXG59O1xyXG5cclxuY29uc3QgZWFzZUN1YmljSW5PdXQgPSAodDogbnVtYmVyKSA9PlxyXG4gIHQgPCAwLjUgPyA0ICogdCAqKiAzIDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxO1xyXG5cclxuY29uc3QgYW5pbWF0ZSA9ICguLi5hbmltYXRpb25zQ29uZmlnczogQW5pbWF0aW9uQ29uZmlnW10pID0+XHJcbiAgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBhbmltYXRpb25zQ29uZmlncy5tYXAoY3JlYXRlQW5pbWF0aW9uKTtcclxuXHJcbiAgICBjb25zdCBvbkZyYW1lID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICBjb25zdCBwZW5kaW5nQW5pbWF0aW9ucyA9IGFuaW1hdGlvbnMuZmlsdGVyKFxyXG4gICAgICAgICh7IGhhc0VuZGVkLCBzdGFydCB9KSA9PiAhaGFzRW5kZWQgJiYgc3RhcnQgPD0gbm93XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAocGVuZGluZ0FuaW1hdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgcGVuZGluZ0FuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB7IHN0YXJ0LCBlbmQsIG9uU3RhcnQsIG9uUHJvZ3Jlc3MsIG9uRW5kLCBoYXNTdGFydGVkIH0gPVxyXG4gICAgICAgICAgICBhbmltYXRpb247XHJcblxyXG4gICAgICAgICAgaWYgKCFoYXNTdGFydGVkKSB7XHJcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5oYXNTdGFydGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIG9uU3RhcnQ/LigpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHQgPSAobm93IC0gc3RhcnQpIC8gKGVuZCAtIHN0YXJ0KTtcclxuXHJcbiAgICAgICAgICBvblByb2dyZXNzPy4oXHJcbiAgICAgICAgICAgIChmcm9tLCB0bykgPT4gZnJvbSArICh0byAtIGZyb20pICogZWFzZUN1YmljSW5PdXQodCA8IDEgPyB0IDogMSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKG5vdyA+PSBlbmQpIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLmhhc0VuZGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIG9uRW5kPy4oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9uRnJhbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUob25GcmFtZSk7XHJcbiAgfSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhbmltYXRlO1xyXG4iLCJpbXBvcnQgUmFuayBmcm9tICdjb25zdGFudHMvcmFua3MnO1xyXG5pbXBvcnQgU3VpdCBmcm9tICdjb25zdGFudHMvc3VpdHMnO1xyXG5cclxuaW1wb3J0IGFuaW1hdGUgZnJvbSAnLi9hbmltYXRlJztcclxuXHJcbmNvbnN0IGNyZWF0ZURpdiA9ICguLi5jbGFzc05hbWVzOiBzdHJpbmdbXSkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICBkaXYuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWVzKTtcclxuXHJcbiAgcmV0dXJuIGRpdjtcclxufTtcclxuXHJcbmNsYXNzIENhcmQge1xyXG4gIGVsZW0gPSBjcmVhdGVEaXYoJ2NhcmQnKTtcclxuXHJcbiAgcmFuazogUmFuaztcclxuXHJcbiAgY29uc3RydWN0b3IocmFuazogUmFuaywgc3VpdDogU3VpdCwgaW5kZXggPSAwKSB7XHJcbiAgICB0aGlzLnJhbmsgPSByYW5rO1xyXG5cclxuICAgIGNvbnN0IGlubmVyID0gY3JlYXRlRGl2KCdpbm5lcicpO1xyXG5cclxuICAgIGlubmVyLmFwcGVuZChjcmVhdGVEaXYoJ2JhY2snKSk7XHJcbiAgICBpbm5lci5hcHBlbmQoY3JlYXRlRGl2KCdmYWNlJywgYCR7cmFua30tb2YtJHtzdWl0fWApKTtcclxuXHJcbiAgICB0aGlzLmVsZW0uYXBwZW5kKGlubmVyKTtcclxuXHJcbiAgICBjb25zdCBvZmZzZXQgPSAtaW5kZXggLyA0O1xyXG5cclxuICAgIHRoaXMuc2V0VHJhbnNmb3JtKG9mZnNldCwgb2Zmc2V0KS5mb3JlZ3JvdW5kID0gaW5kZXg7XHJcbiAgfVxyXG5cclxuICBhc3luYyBzaG93KCkge1xyXG4gICAgYXdhaXQgYW5pbWF0ZSh7XHJcbiAgICAgIGR1cmF0aW9uOiA0MDAsXHJcbiAgICAgIG9uUHJvZ3Jlc3M6IChjYWxjKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvblkgPSBjYWxjKDAsIDE4MCk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICBhbmltYXRlKHtcclxuICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgb25Qcm9ncmVzczogKGNhbGMpID0+IHtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IGNhbGMoMTgwLCAwKTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2V0VHJhbnNmb3JtKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnN0eWxlcy50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7eH1weCwgJHt5fXB4KWA7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBnZXRUcmFuc2Zvcm0oKSB7XHJcbiAgICBjb25zdCBbLCAsICwgLCB4LCB5XSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtKVxyXG4gICAgICAudHJhbnNmb3JtLnJlcGxhY2UoL1teXFxkXFwtLixdL2csICcnKVxyXG4gICAgICAuc3BsaXQoJywnKTtcclxuXHJcbiAgICByZXR1cm4geyB4OiBOdW1iZXIoeCkgfHwgMCwgeTogTnVtYmVyKHkpIHx8IDAgfTtcclxuICB9XHJcblxyXG4gIGdldFJlY3QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlQ2xhc3MoY2xhc3NOYW1lOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZWxlbS5jbGFzc0xpc3QudG9nZ2xlKGNsYXNzTmFtZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzZXQgZm9yZWdyb3VuZCh6SW5kZXg6IG51bWJlcikge1xyXG4gICAgdGhpcy5zdHlsZXMuekluZGV4ID0gekluZGV4LnRvU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICBzZXQgb3BhY2l0eShvcGFjaXR5OiBudW1iZXIpIHtcclxuICAgIHRoaXMuc3R5bGVzLm9wYWNpdHkgPSBvcGFjaXR5LnRvU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldCByb3RhdGlvblkoZGVnOiBudW1iZXIpIHtcclxuICAgIChcclxuICAgICAgdGhpcy5lbGVtLmZpcnN0Q2hpbGQgYXMgSFRNTEVsZW1lbnRcclxuICAgICkuc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZVkoJHtkZWd9ZGVnKWA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldCBzdHlsZXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLnN0eWxlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcclxuIiwiaW1wb3J0IENhcmQgZnJvbSAnY2FyZCc7XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBDYXJkU3RhY2sge1xyXG4gIGNhcmRzOiBDYXJkW10gPSBbXTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGVsZW06IEhUTUxEaXZFbGVtZW50KSB7fVxyXG5cclxuICBwdXNoKGNhcmQ6IENhcmQpIHtcclxuICAgIHRoaXMuY2FyZHMucHVzaChjYXJkKTtcclxuICAgIHRoaXMuZWxlbS5hcHBlbmQoY2FyZC5lbGVtKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHBvcCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNhcmRzLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UmVjdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgfVxyXG5cclxuICBnZXQgY291bnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYXJkcy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBnZXQgdG9wQ2FyZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNhcmRzW3RoaXMuY291bnQgLSAxXTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmRTdGFjaztcclxuIiwiaW1wb3J0IGFuaW1hdGUsIHsgQW5pbWF0aW9uQ29uZmlnIH0gZnJvbSAnYW5pbWF0ZSc7XHJcbmltcG9ydCBDYXJkIGZyb20gJ2NhcmQnO1xyXG5pbXBvcnQgUmFuayBmcm9tICdjb25zdGFudHMvcmFua3MnO1xyXG5pbXBvcnQgU3VpdCBmcm9tICdjb25zdGFudHMvc3VpdHMnO1xyXG5cclxuaW1wb3J0IENhcmRTdGFjayBmcm9tICcuL2NhcmRTdGFjayc7XHJcblxyXG5jbGFzcyBEZWNrIGV4dGVuZHMgQ2FyZFN0YWNrIHtcclxuICBjb25zdHJ1Y3RvcihlbGVtOiBIVE1MRGl2RWxlbWVudCwgc3VpdHM6IFN1aXRbXSwgcmFua3M6IFJhbmtbXSkge1xyXG4gICAgc3VwZXIoZWxlbSk7XHJcblxyXG4gICAgc3VpdHMuZm9yRWFjaCgoc3VpdCkgPT4ge1xyXG4gICAgICByYW5rcy5mb3JFYWNoKChyYW5rKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gLXRoaXMuY291bnQgLyA0O1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChyYW5rLCBzdWl0LCB0aGlzLmNvdW50KS5zZXRUcmFuc2Zvcm0oXHJcbiAgICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgICAtMjAwICsgb2Zmc2V0XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY2FyZC5vcGFjaXR5ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5wdXNoKGNhcmQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgaW50cm8oKSB7XHJcbiAgICBhd2FpdCBhbmltYXRlKFxyXG4gICAgICAuLi50aGlzLmNhcmRzLm1hcCgoY2FyZCwgaW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGNhcmQuZ2V0VHJhbnNmb3JtKCk7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gLWluZGV4IC8gNDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGRlbGF5OiBpbmRleCAqIDgsXHJcbiAgICAgICAgICBkdXJhdGlvbjogNjAwLFxyXG4gICAgICAgICAgb25Qcm9ncmVzcyhjYWxjKSB7XHJcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXHJcbiAgICAgICAgICAgIGNhcmQuc2V0VHJhbnNmb3JtKGNhbGMoeCwgb2Zmc2V0KSwgY2FsYyh5LCBvZmZzZXQpKS5vcGFjaXR5ID0gY2FsYyhcclxuICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSBhcyBBbmltYXRpb25Db25maWc7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2h1ZmZsZSgpIHtcclxuICAgIGZvciAobGV0IGxhc3RJbmRleCA9IHRoaXMuY291bnQgLSAxOyBsYXN0SW5kZXg7IGxhc3RJbmRleCAtPSAxKSB7XHJcbiAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGxhc3RJbmRleCArIDEpKTtcclxuXHJcbiAgICAgIFt0aGlzLmNhcmRzW2xhc3RJbmRleF0sIHRoaXMuY2FyZHNbcmFuZG9tSW5kZXhdXSA9IFtcclxuICAgICAgICB0aGlzLmNhcmRzW3JhbmRvbUluZGV4XSxcclxuICAgICAgICB0aGlzLmNhcmRzW2xhc3RJbmRleF0sXHJcbiAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZHVyYXRpb24gPSAyMDA7XHJcbiAgICBjb25zdCB7IHdpZHRoOiBjYXJkV2lkdGggfSA9IHRoaXMudG9wQ2FyZC5nZXRSZWN0KCk7XHJcblxyXG4gICAgYXdhaXQgYW5pbWF0ZShcclxuICAgICAgLi4udGhpcy5jYXJkcy5yZWR1Y2UoKGFjYywgY2FyZCwgaW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCBkZWxheSA9IGluZGV4ICogMjtcclxuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGNhcmQuZ2V0VHJhbnNmb3JtKCk7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gLWluZGV4IC8gNDtcclxuICAgICAgICBjb25zdCByYW5kb21PZmZzZXQgPVxyXG4gICAgICAgICAgKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSkgKiAyIC0gMSkgKlxyXG4gICAgICAgICAgKChNYXRoLnJhbmRvbSgpICogY2FyZFdpZHRoKSAvIDIgKyBjYXJkV2lkdGggLyAyKTtcclxuXHJcbiAgICAgICAgYWNjLnB1c2goXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGRlbGF5LFxyXG4gICAgICAgICAgICBkdXJhdGlvbixcclxuICAgICAgICAgICAgb25Qcm9ncmVzcyhjYWxjKSB7XHJcbiAgICAgICAgICAgICAgY2FyZC5zZXRUcmFuc2Zvcm0oY2FsYyh4LCByYW5kb21PZmZzZXQpLCBjYWxjKHksIG9mZnNldCkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZHVyYXRpb24sXHJcbiAgICAgICAgICAgIGRlbGF5OiBkZWxheSArIGR1cmF0aW9uLFxyXG4gICAgICAgICAgICBvblN0YXJ0KCkge1xyXG4gICAgICAgICAgICAgIGNhcmQuZm9yZWdyb3VuZCA9IGluZGV4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvblByb2dyZXNzKGNhbGMpIHtcclxuICAgICAgICAgICAgICBjYXJkLnNldFRyYW5zZm9ybShjYWxjKHJhbmRvbU9mZnNldCwgb2Zmc2V0KSwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICB9LCBbXSBhcyBBbmltYXRpb25Db25maWdbXSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBnZXRPZmZzZXRUb3AoKSB7XHJcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuZ2V0UmVjdCgpO1xyXG4gICAgY29uc3QgeyB4OiBkeCwgeTogZHkgfSA9IHRoaXMudG9wQ2FyZC5nZXRUcmFuc2Zvcm0oKTtcclxuXHJcbiAgICByZXR1cm4geyB4OiB4ICsgZHgsIHk6IHkgKyBkeSB9O1xyXG4gIH1cclxuXHJcbiAgc2V0IGZvcmVncm91bmQoekluZGV4OiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZWxlbS5zdHlsZS56SW5kZXggPSB6SW5kZXg7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEZWNrO1xyXG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG5jb25zdCBlbnVtIFJhbmsge1xuICBBY2UgPSAnYWNlJyxcbiAgVHdvID0gJ3R3bycsXG4gIFRocmVlID0gJ3RocmVlJyxcbiAgRm91ciA9ICdmb3VyJyxcbiAgRml2ZSA9ICdmaXZlJyxcbiAgU2l4ID0gJ3NpeCcsXG4gIFNldmVuID0gJ3NldmVuJyxcbiAgRWlnaHQgPSAnZWlnaHQnLFxuICBOaW5lID0gJ25pbmUnLFxuICBUZW4gPSAndGVuJyxcbiAgSmFjayA9ICdqYWNrJyxcbiAgUXVlZW4gPSAncXVlZW4nLFxuICBLaW5nID0gJ2tpbmcnLFxufVxuXG5leHBvcnQgY29uc3QgcmFua3MgPSBbXG4gIFJhbmsuQWNlLFxuICBSYW5rLlR3byxcbiAgUmFuay5UaHJlZSxcbiAgUmFuay5Gb3VyLFxuICBSYW5rLkZpdmUsXG4gIFJhbmsuU2l4LFxuICBSYW5rLlNldmVuLFxuICBSYW5rLkVpZ2h0LFxuICBSYW5rLk5pbmUsXG4gIFJhbmsuVGVuLFxuICBSYW5rLkphY2ssXG4gIFJhbmsuUXVlZW4sXG4gIFJhbmsuS2luZyxcbl07XG5cbmV4cG9ydCBjb25zdCByYW5rVmFsdWUgPSBuZXcgTWFwPFxuICBSYW5rLFxuICAoc2NvcmU/OiBudW1iZXIsIGluZGV4PzogbnVtYmVyKSA9PiBudW1iZXJcbj4oKVxuICAuc2V0KFJhbmsuQWNlLCAoc2NvcmUsIGluZGV4KSA9PiAoc2NvcmUgPCAxMSAmJiBpbmRleCA8IDIgPyAxMSA6IDEpKVxuICAuc2V0KFJhbmsuVHdvLCAoKSA9PiAyKVxuICAuc2V0KFJhbmsuVGhyZWUsICgpID0+IDMpXG4gIC5zZXQoUmFuay5Gb3VyLCAoKSA9PiA0KVxuICAuc2V0KFJhbmsuRml2ZSwgKCkgPT4gNSlcbiAgLnNldChSYW5rLlNpeCwgKCkgPT4gNilcbiAgLnNldChSYW5rLlNldmVuLCAoKSA9PiA3KVxuICAuc2V0KFJhbmsuRWlnaHQsICgpID0+IDgpXG4gIC5zZXQoUmFuay5OaW5lLCAoKSA9PiA5KVxuICAuc2V0KFJhbmsuVGVuLCAoKSA9PiAxMClcbiAgLnNldChSYW5rLkphY2ssICgpID0+IDEwKVxuICAuc2V0KFJhbmsuUXVlZW4sICgpID0+IDEwKVxuICAuc2V0KFJhbmsuS2luZywgKCkgPT4gMTApO1xuXG5leHBvcnQgZGVmYXVsdCBSYW5rO1xuIiwiaW1wb3J0IGFuaW1hdGUgZnJvbSAnYW5pbWF0ZSc7XHJcbmltcG9ydCB7IHJhbmtWYWx1ZSB9IGZyb20gJ2NvbnN0YW50cy9yYW5rcyc7XHJcblxyXG5pbXBvcnQgQ2FyZFN0YWNrIGZyb20gJy4vY2FyZFN0YWNrJztcclxuXHJcbmNvbnN0IFRPUF9TQ09SRSA9IDIxO1xyXG5cclxuY2xhc3MgSGFuZCBleHRlbmRzIENhcmRTdGFjayB7XHJcbiAgYXN5bmMgZHJhZ0NhcmQoc2hvdWxkU2hvd0ZhY2U/OiBib29sZWFuKSB7XHJcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMudG9wQ2FyZC5nZXRUcmFuc2Zvcm0oKTtcclxuICAgIGNvbnN0IG9mZnNldCA9ICgxIC0gdGhpcy5jb3VudCkgKiAxMDtcclxuXHJcbiAgICBhd2FpdCBhbmltYXRlKHtcclxuICAgICAgZHVyYXRpb246IDQwMCxcclxuICAgICAgb25TdGFydDogKCkgPT4ge1xyXG4gICAgICAgIGlmIChzaG91bGRTaG93RmFjZSkge1xyXG4gICAgICAgICAgdGhpcy50b3BDYXJkLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uUHJvZ3Jlc3M6IChjYWxjKSA9PiB7XHJcbiAgICAgICAgdGhpcy50b3BDYXJkLnNldFRyYW5zZm9ybShjYWxjKHgsIG9mZnNldCksIGNhbGMoeSwgb2Zmc2V0KSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uRW5kOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50b3BDYXJkLnRvZ2dsZUNsYXNzKCdkZWFsdCcpLmZvcmVncm91bmQgPSB0aGlzLmNvdW50O1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRBY3RpdmUoKSB7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5hY3RpdmUoKSB7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgZW1wdHkoKSB7XHJcbiAgICB0aGlzLmNhcmRzID0gW107XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBnZXRTY29yZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmNhcmRzLnJlZHVjZShcclxuICAgICAgKGFjYywgY2FyZCwgaW5kZXgpID0+IGFjYyArIHJhbmtWYWx1ZS5nZXQoY2FyZC5yYW5rKShhY2MsIGluZGV4KSxcclxuICAgICAgMFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGhhc0JsYWNramFjaygpIHtcclxuICAgIHJldHVybiB0aGlzLmdldFNjb3JlKCkgPT09IFRPUF9TQ09SRSAmJiB0aGlzLmNvdW50ID09PSAyO1xyXG4gIH1cclxuXHJcbiAgaGFzQnVzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldFNjb3JlKCkgPiBUT1BfU0NPUkU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldCBjbGFzc0xpc3QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtLmNsYXNzTGlzdDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhhbmQ7XHJcbiIsImltcG9ydCBIYW5kIGZyb20gJy4vaGFuZCc7XHJcblxyXG5jbGFzcyBQbGF5ZXJzIHtcclxuICBwdWJsaWMgaGFuZHM6IEhhbmRbXTtcclxuXHJcbiAgcHJpdmF0ZSBjdXJyZW50SW5kZXggPSAwO1xyXG5cclxuICBjb25zdHJ1Y3RvciguLi5oYW5kczogSGFuZFtdKSB7XHJcbiAgICB0aGlzLmhhbmRzID0gaGFuZHM7XHJcbiAgfVxyXG5cclxuICBzZXROZXh0KCkge1xyXG4gICAgdGhpcy5zZXRJbmFjdGl2ZSgpO1xyXG4gICAgdGhpcy5jdXJyZW50SW5kZXggKz0gMTtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5jdXJyZW50SW5kZXggPSAwO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5hY3RpdmUoKSB7XHJcbiAgICB0aGlzLmhhbmRzLmZvckVhY2goKGhhbmQpID0+IHtcclxuICAgICAgaGFuZC5zZXRJbmFjdGl2ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbXB0eSgpIHtcclxuICAgIHRoaXMuaGFuZHMuZm9yRWFjaCgoaGFuZCkgPT4ge1xyXG4gICAgICBoYW5kLmVtcHR5KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhdmVCbGFja2phY2soKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oYW5kcy5zb21lKChoYW5kKSA9PiBoYW5kLmhhc0JsYWNramFjaygpKTtcclxuICB9XHJcblxyXG4gIGhhdmVCdXN0KCkge1xyXG4gICAgcmV0dXJuICF0aGlzLmhhbmRzLnNvbWUoKGhhbmQpID0+ICFoYW5kLmhhc0J1c3QoKSk7XHJcbiAgfVxyXG5cclxuICBnZXRUb3BTY29yZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmhhbmRzLnJlZHVjZSgoYWNjLCBoYW5kKSA9PiB7XHJcbiAgICAgIGlmIChoYW5kLmhhc0J1c3QoKSkge1xyXG4gICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHNjb3JlID0gaGFuZC5nZXRTY29yZSgpO1xyXG5cclxuICAgICAgcmV0dXJuIHNjb3JlID4gYWNjID8gc2NvcmUgOiBhY2M7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcblxyXG4gIGdldCBjdXJyZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaGFuZHNbdGhpcy5jdXJyZW50SW5kZXhdO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGxheWVycztcclxuIiwiaW1wb3J0IGFuaW1hdGUgZnJvbSAnLi9hbmltYXRlJztcclxuXHJcbmNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW06IEhUTUxEaXZFbGVtZW50KSB7fVxyXG5cclxuICBzaG93KHRleHQ6IHN0cmluZykge1xyXG4gICAgYW5pbWF0ZSh7XHJcbiAgICAgIGR1cmF0aW9uOiAxMDAsXHJcbiAgICAgIG9uU3RhcnQ6ICgpID0+IHtcclxuICAgICAgICB0aGlzLmVsZW0udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgICB9LFxyXG4gICAgICBvblByb2dyZXNzOiAoY2FsYykgPT4ge1xyXG4gICAgICAgIHRoaXMub3BhY2l0eSA9IGNhbGMoMCwgMSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uRW5kOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gJyc7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICBpZiAodGhpcy5zdHlsZXMub3BhY2l0eSAhPT0gJzAnKSB7XHJcbiAgICAgIGFuaW1hdGUoe1xyXG4gICAgICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICAgICAgb25Qcm9ncmVzczogKGNhbGMpID0+IHtcclxuICAgICAgICAgIHRoaXMub3BhY2l0eSA9IGNhbGMoMSwgMCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkVuZDogKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5vcGFjaXR5ID0gMDtcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0IHN0eWxlcygpIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0uc3R5bGU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldCBvcGFjaXR5KG9wYWNpdHk6IG51bWJlciB8IHN0cmluZykge1xyXG4gICAgdGhpcy5zdHlsZXMub3BhY2l0eSA9IG9wYWNpdHkudG9TdHJpbmcoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xyXG4iLCJpbXBvcnQgJ3N0eWxlcy9pbmRleC5zY3NzJztcclxuXHJcbmltcG9ydCBCbGFja2phY2sgZnJvbSAnYmxhY2tqYWNrJztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICdidXR0b25zL2J1dHRvbic7XHJcbmltcG9ydCBCdXR0b25zIGZyb20gJ2J1dHRvbnMvYnV0dG9ucyc7XHJcbmltcG9ydCBEZWNrIGZyb20gJ2NhcmRIb2xkZXJzL2RlY2snO1xyXG5pbXBvcnQgSGFuZCBmcm9tICdjYXJkSG9sZGVycy9oYW5kJztcclxuaW1wb3J0IFBsYXllcnMgZnJvbSAnY2FyZEhvbGRlcnMvcGxheWVycyc7XHJcbmltcG9ydCB7IHJhbmtzIH0gZnJvbSAnY29uc3RhbnRzL3JhbmtzJztcclxuaW1wb3J0IHsgc3VpdHMgfSBmcm9tICdjb25zdGFudHMvc3VpdHMnO1xyXG5pbXBvcnQgUG9wdXAgZnJvbSAncG9wdXAnO1xyXG5cclxuY29uc3QgZ2V0RWxlbSA9IDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KGlkOiBzdHJpbmcpID0+XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIGFzIFQ7XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3XHJcbm5ldyBCbGFja2phY2soXHJcbiAgbmV3IEJ1dHRvbnMoXHJcbiAgICBuZXcgQnV0dG9uKGdldEVsZW0oJ2RlYWwtYnRuJykpLFxyXG4gICAgbmV3IEJ1dHRvbihnZXRFbGVtKCdyZXNldC1idG4nKSksXHJcbiAgICBuZXcgQnV0dG9uKGdldEVsZW0oJ2hpdC1idG4nKSksXHJcbiAgICBuZXcgQnV0dG9uKGdldEVsZW0oJ3N0YW5kLWJ0bicpKVxyXG4gICksXHJcbiAgbmV3IFBvcHVwKGdldEVsZW0oJ3BvcHVwJykpLFxyXG4gIG5ldyBEZWNrKGdldEVsZW0oJ2RlY2snKSwgc3VpdHMsIHJhbmtzKSxcclxuICBuZXcgSGFuZChnZXRFbGVtKCdkZWFsZXInKSksXHJcbiAgbmV3IFBsYXllcnMobmV3IEhhbmQoZ2V0RWxlbSgncGxheWVyLTInKSksIG5ldyBIYW5kKGdldEVsZW0oJ3BsYXllci0zJykpKVxyXG4pO1xyXG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG5jb25zdCBlbnVtIFN1aXQge1xuICBDbHVicyA9ICdjbHVicycsXG4gIFNwYWRlcyA9ICdzcGFkZXMnLFxuICBIZWFydHMgPSAnaGVhcnRzJyxcbiAgRGlhbW9uZHMgPSAnZGlhbW9uZHMnLFxufVxuXG5leHBvcnQgY29uc3Qgc3VpdHMgPSBbU3VpdC5DbHVicywgU3VpdC5TcGFkZXMsIFN1aXQuSGVhcnRzLCBTdWl0LkRpYW1vbmRzXTtcblxuZXhwb3J0IGRlZmF1bHQgU3VpdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=